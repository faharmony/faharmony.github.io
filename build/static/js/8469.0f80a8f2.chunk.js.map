{"version":3,"file":"static/js/8469.0f80a8f2.chunk.js","mappings":"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","sources":["../../packages/shared/lib/MenuDrilldown/MenuList.js","../../packages/shared/lib/MenuDrilldown/MenuDrilldown.js","../../packages/taskmanager/lib/hook/useGetProcessDefinitions.js","../../packages/taskmanager/lib/state.js","../../packages/taskmanager/lib/hook/useCompleteTask.js","../../packages/taskmanager/lib/hook/useStartProcess.js","../../packages/taskmanager/lib/hook/useProcessExecutor.js","../../packages/taskmanager/lib/components/FormDisplayer.js","../../packages/taskmanager/lib/components/ProcessModal.js","../../packages/taskmanager/lib/StartWorkflow/WorkflowsList.js","../../packages/taskmanager/lib/StartWorkflow/StartWorkflowButtonPopover.js","modules/components/pages/Menu_Drilldown.tsx"],"sourcesContent":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { useState } from \"react\";\r\nimport { Text, Button, Icon } from \"@faharmony/components\";\r\nimport { faArrowLeft as backIcon } from \"@faharmony/icons/solid\";\r\nimport { faChevronRight } from \"@faharmony/icons\";\r\nimport { ContentView } from \"@faharmony/views\";\r\nimport { AnimatePresence, motion, styled, theme } from \"@faharmony/theme\";\r\nimport { TextField } from \"@faharmony/form\";\r\nexport var MenuList = function (_a) {\r\n    var header = _a.header, options = _a.options, onOptionSelected = _a.onOptionSelected, _b = _a.onBack, onBack = _b === void 0 ? undefined : _b, _c = _a.headless, headless = _c === void 0 ? false : _c, _d = _a.enableFiltering, enableFiltering = _d === void 0 ? false : _d;\r\n    var _e = __read(useState(\"\"), 2), filterInput = _e[0], setFilterInput = _e[1];\r\n    return (_jsxs(ContentView, __assign({ style: { overflowX: \"hidden\" }, headerHidden: headless || !header, headerTitle: !headless &&\r\n            header && (_jsxs(HeaderContainer, { children: [onBack && (_jsx(\"div\", __assign({ style: { marginTop: -4 } }, { children: _jsx(Button, { icon: backIcon, spacing: \"sm\", outline: true, onClick: onBack }) }))), typeof header === \"string\" ? (_jsx(Text, __assign({ variant: \"h5\", truncate: true }, { children: header }))) : ({ header: header })] })) }, { children: [enableFiltering && (_jsx(FilterInput, { onChange: function (e) {\r\n                    setFilterInput(e.target.value);\r\n                }, value: filterInput, autoFocus: true, placeholder: \"Filter\" })), _jsx(\"div\", __assign({ style: { paddingTop: 8, paddingBottom: 8 } }, { children: _jsx(AnimatePresence, { children: options\r\n                        .filter(function (option) {\r\n                        return option.label.toLowerCase().includes(filterInput.toLowerCase());\r\n                    })\r\n                        .map(function (option) { return (_jsxs(Item, __assign({ transition: { duration: 0.15, ease: \"easeOut\" }, initial: { opacity: 0, x: 24 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: 24 }, onClick: function () {\r\n                            onOptionSelected(option);\r\n                            setFilterInput(\"\");\r\n                        } }, { children: [_jsx(\"div\", __assign({ style: { flexGrow: 1 } }, { children: option.label })), option.options && _jsx(Icon, { icon: faChevronRight })] }), option.key || option.label)); }) }) }))] })));\r\n};\r\nvar color = theme.color, spacing = theme.spacing;\r\nvar Item = styled(motion.div)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  padding: 8px;\\n  &:hover {\\n    cursor: pointer;\\n    background-color: \", \";\\n  }\\n\"], [\"\\n  display: flex;\\n  padding: 8px;\\n  &:hover {\\n    cursor: pointer;\\n    background-color: \", \";\\n  }\\n\"])), color.background.hover);\r\nvar FilterInput = styled(TextField)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  padding-top: \", \";\\n  padding-bottom: \", \";\\n  padding-left: \", \";\\n  padding-right: \", \";\\n\"], [\"\\n  padding-top: \", \";\\n  padding-bottom: \", \";\\n  padding-left: \", \";\\n  padding-right: \", \";\\n\"])), spacing.sm, spacing.sm, spacing.sm, spacing.sm);\r\nvar HeaderContainer = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: flex;\\n  gap: 8px;\\n  align-items: flex-start;\\n\"], [\"\\n  display: flex;\\n  gap: 8px;\\n  align-items: flex-start;\\n\"])));\r\nvar templateObject_1, templateObject_2, templateObject_3;\r\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { useState } from \"react\";\r\nimport { MenuList } from \"./MenuList\";\r\nimport { AnimatePresence, motion, styled } from \"@faharmony/theme\";\r\nexport var MenuDrilldown = function (_a) {\r\n    var optionsTree = _a.optionsTree, onOptionSelected = _a.onOptionSelected, _b = _a.headless, headless = _b === void 0 ? false : _b, _c = _a.enableFiltering, enableFiltering = _c === void 0 ? false : _c;\r\n    var _d = __read(useState([optionsTree]), 2), renderedLists = _d[0], setRenderedLists = _d[1];\r\n    var _e = __read(useState([]), 2), selectedOptions = _e[0], setSelectedOptions = _e[1];\r\n    return (_jsx(MenuDrilldownContainer, { children: _jsx(AnimatePresence, { children: renderedLists.map(function (_a, i) {\r\n                var _b = _a.label, label = _b === void 0 ? \"\" : _b, options = _a.options;\r\n                return (_jsx(RenderedListsContainer, __assign({ transition: { duration: 0.2, ease: \"easeOut\" }, initial: { opacity: 0, x: 0 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: 0 } }, { children: _jsx(MenuList, { header: label, options: options, headless: headless, enableFiltering: enableFiltering, onBack: renderedLists.length > 1\r\n                            ? function () {\r\n                                setRenderedLists(renderedLists.slice(0, -1));\r\n                                setSelectedOptions(selectedOptions.slice(0, -1));\r\n                            }\r\n                            : undefined, onOptionSelected: function (option) {\r\n                            var newSelectedOptions = __spreadArray(__spreadArray([], __read(selectedOptions), false), [option], false);\r\n                            setSelectedOptions(newSelectedOptions);\r\n                            if (!option.options) {\r\n                                setRenderedLists([optionsTree]);\r\n                                setSelectedOptions([]);\r\n                                return onOptionSelected(newSelectedOptions);\r\n                            }\r\n                            setRenderedLists(__spreadArray(__spreadArray([], __read(renderedLists), false), [option], false));\r\n                        } }) }), i));\r\n            }) }) }));\r\n};\r\nvar MenuDrilldownContainer = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  min-width: 80px;\\n  min-height: 80px;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  min-width: 80px;\\n  min-height: 80px;\\n\"])));\r\nvar RenderedListsContainer = styled(motion.div)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n\"])));\r\nvar templateObject_1, templateObject_2;\r\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { gql, useQuery } from \"@faharmony/service\";\r\nimport { useState } from \"react\";\r\nimport { addToast } from \"@faharmony/core\";\r\n// query for querying context aware processes\r\nvar GET_PROCESS_DEFINITIONS = gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  query getProcessDefinitions($category: String!, $maxCount: Int) {\\n    processDefinitions(maxCount: $maxCount, category: $category) {\\n      processDefinition {\\n        id\\n        key\\n        name\\n        category\\n        description\\n      }\\n      total\\n    }\\n  }\\n\"], [\"\\n  query getProcessDefinitions($category: String!, $maxCount: Int) {\\n    processDefinitions(maxCount: $maxCount, category: $category) {\\n      processDefinition {\\n        id\\n        key\\n        name\\n        category\\n        description\\n      }\\n      total\\n    }\\n  }\\n\"])));\r\nexport var useGetProcessDefinitions = function (_a) {\r\n    var _b = _a.category, category = _b === void 0 ? \"\" : _b, _c = _a.maxCount, maxCount = _c === void 0 ? 10000 : _c;\r\n    var _d = __read(useState([]), 2), processes = _d[0], setProcesses = _d[1];\r\n    var _e = useQuery(GET_PROCESS_DEFINITIONS, {\r\n        notifyOnNetworkStatusChange: true,\r\n        variables: {\r\n            category: category,\r\n            maxCount: maxCount,\r\n        },\r\n        onError: function (error) {\r\n            addToast({\r\n                id: \"process-definitions-error\",\r\n                title: \"Error, could not get workflows definitions\",\r\n                description: error.message,\r\n                variant: \"negative\",\r\n                persist: true,\r\n            });\r\n        },\r\n        onCompleted: function (data) {\r\n            try {\r\n                setProcesses(data.processDefinitions.processDefinition);\r\n            }\r\n            catch (error) {\r\n                console.error(error);\r\n                addToast({\r\n                    id: \"failed-parsing-process-definitions\",\r\n                    title: \"Error, failed to parse workflows definitions\",\r\n                    variant: \"negative\",\r\n                    persist: true,\r\n                });\r\n            }\r\n        },\r\n    }), data = _e.data, loading = _e.loading, error = _e.error;\r\n    return {\r\n        processes: processes,\r\n        data: data,\r\n        error: error,\r\n        loading: loading,\r\n    };\r\n};\r\nvar templateObject_1;\r\n","import { proxy } from \"valtio\";\r\nexport var state = proxy({\r\n    modalMode: \"closed\",\r\n    selectedProcess: undefined,\r\n    activeTask: undefined,\r\n    processPayload: undefined,\r\n});\r\nexport var actions = {\r\n    closeModal: function () {\r\n        state.modalMode = \"closed\";\r\n        state.selectedProcess = undefined;\r\n    },\r\n};\r\n//@ts-ignore\r\nwindow.taskmanagerState = state;\r\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { useMutation, gql } from \"@apollo/client\";\r\nimport { addToast } from \"@faharmony/core\";\r\nvar COMPLETE_PROCESS_TASK = gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  mutation ($taskId: String, $data: Json) {\\n    completeProcessTask(\\n      taskId: $taskId\\n      data: $data\\n    ) {\\n      formKey\\n      formDefinition\\n      taskId\\n      processInstanceId\\n      data\\n    }\\n  }\\n\"], [\"\\n  mutation ($taskId: String, $data: Json) {\\n    completeProcessTask(\\n      taskId: $taskId\\n      data: $data\\n    ) {\\n      formKey\\n      formDefinition\\n      taskId\\n      processInstanceId\\n      data\\n    }\\n  }\\n\"])));\r\nexport var useCompleteTask = function () {\r\n    var _a = __read(useMutation(COMPLETE_PROCESS_TASK, {\r\n        onCompleted: function (data) {\r\n            var _a;\r\n            if (!((_a = data.completeProcessTask) === null || _a === void 0 ? void 0 : _a.formKey))\r\n                addToast({\r\n                    id: \"start-process-success\",\r\n                    title: \"Success\",\r\n                    description: \"Workflow started successfully\",\r\n                    variant: \"positive\",\r\n                });\r\n        },\r\n        onError: function (error) {\r\n            console.error(error);\r\n            addToast({\r\n                id: \"start-process-error\",\r\n                title: \"Error\",\r\n                description: error.message,\r\n                variant: \"negative\",\r\n                persist: true,\r\n            });\r\n        },\r\n    }), 2), completeTask = _a[0], _b = _a[1], data = _b.data, loading = _b.loading, error = _b.error, reset = _b.reset;\r\n    return {\r\n        loading: loading,\r\n        error: error,\r\n        reset: reset,\r\n        data: data,\r\n        completeTask: completeTask,\r\n    };\r\n};\r\nvar templateObject_1;\r\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { useMutation, gql } from \"@apollo/client\";\r\nimport { addToast } from \"@faharmony/core\";\r\nvar START_PROCESS = gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  mutation startProcess($key: String, $data: Json) {\\n    startProcess(key: $key, data: $data) {\\n      assignee\\n      candidateGroups\\n      attachments\\n      candidateUsers\\n      category\\n      claimTime\\n      createTime\\n      data\\n      description\\n      dueDate\\n      formDefinition\\n      formKey\\n      id\\n      name\\n      owner\\n      parentTaskId\\n      priority\\n      processDefinitionId\\n      processInstanceId\\n      taskDefinitionKey\\n      taskId\\n    }\\n  }\\n\"], [\"\\n  mutation startProcess($key: String, $data: Json) {\\n    startProcess(key: $key, data: $data) {\\n      assignee\\n      candidateGroups\\n      attachments\\n      candidateUsers\\n      category\\n      claimTime\\n      createTime\\n      data\\n      description\\n      dueDate\\n      formDefinition\\n      formKey\\n      id\\n      name\\n      owner\\n      parentTaskId\\n      priority\\n      processDefinitionId\\n      processInstanceId\\n      taskDefinitionKey\\n      taskId\\n    }\\n  }\\n\"])));\r\nfunction useStartProcess(key, data) {\r\n    var _a = __read(useMutation(START_PROCESS, {\r\n        variables: {\r\n            key: key,\r\n            data: data && Object.keys(data).length ? data : null, // currently empty payload is causing a server error, thus if payload is empty, set it to null\r\n        },\r\n        onCompleted: function (data) {\r\n            var _a;\r\n            if (!((_a = data.startProcess) === null || _a === void 0 ? void 0 : _a.formKey))\r\n                addToast({\r\n                    id: \"start-process-success\",\r\n                    title: \"Success\",\r\n                    description: \"Workflow started successfully\",\r\n                    variant: \"positive\",\r\n                });\r\n        },\r\n        onError: function (error) {\r\n            console.error(error);\r\n            addToast({\r\n                id: \"start-process-error\",\r\n                title: \"Error\",\r\n                description: error.message,\r\n                variant: \"negative\",\r\n                persist: true,\r\n            });\r\n        },\r\n    }), 1), startProcess = _a[0];\r\n    return {\r\n        startProcess: startProcess,\r\n    };\r\n}\r\nexport default useStartProcess;\r\nvar templateObject_1;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { useEffect, useCallback, useReducer } from \"react\";\r\nimport { useCompleteTask } from \"./useCompleteTask\";\r\nimport useStartProcess from \"./useStartProcess\";\r\nimport { actions, state } from \"../state\";\r\nvar processInitialState = {\r\n    executorState: \"LOADING\",\r\n};\r\nvar processStateReducer = function (state, action) {\r\n    var _a;\r\n    switch (action.type) {\r\n        case \"UPDATE_DATA\": {\r\n            var payload = action.payload;\r\n            var newExecutorState = (_a = payload.executorState) !== null && _a !== void 0 ? _a : state.executorState;\r\n            if (newExecutorState === \"READY\" ||\r\n                newExecutorState === \"SUBMITTING\" ||\r\n                newExecutorState === \"SUBMIT_ERROR\") {\r\n                return __assign(__assign({}, state), payload);\r\n            }\r\n            return { executorState: newExecutorState };\r\n        }\r\n        case \"SET_DATA\":\r\n            return action.payload;\r\n        case \"RESET_SUBMIT_ERROR\":\r\n            if (state.executorState === \"READY\" ||\r\n                state.executorState === \"SUBMITTING\" ||\r\n                state.executorState === \"SUBMIT_ERROR\") {\r\n                return __assign(__assign({}, state), { executorState: \"READY\" });\r\n            }\r\n            return state;\r\n        default:\r\n            throw new Error();\r\n    }\r\n};\r\nexport var eventNames = {\r\n    submit: \"formSubmitEvent\",\r\n};\r\nvar attachmentsObjectToList = function (attachments) { return (attachments ? Object.values(attachments) : []); };\r\nexport var useProcessExecutor = function (OnProcessFinished) {\r\n    var _a = __read(useReducer(processStateReducer, processInitialState), 2), processState = _a[0], dispatchProcessStateAction = _a[1];\r\n    useInitializeForm(dispatchProcessStateAction);\r\n    var completeTask = useCompleteTask().completeTask;\r\n    var handleSubmit = useCallback(function (e) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var submissionData, completeFormResponse, processFinished, error_1;\r\n        var _a, _b, _c, _d;\r\n        return __generator(this, function (_e) {\r\n            switch (_e.label) {\r\n                case 0:\r\n                    submissionData = e.detail;\r\n                    if (processState.executorState !== \"READY\" || !submissionData) {\r\n                        return [2 /*return*/];\r\n                    }\r\n                    dispatchProcessStateAction({\r\n                        type: \"UPDATE_DATA\",\r\n                        payload: {\r\n                            executorState: \"SUBMITTING\",\r\n                        },\r\n                    });\r\n                    _e.label = 1;\r\n                case 1:\r\n                    _e.trys.push([1, 3, , 4]);\r\n                    // to satisfy backend logic, import is wrapped in an array\r\n                    if (((_a = submissionData === null || submissionData === void 0 ? void 0 : submissionData.data) === null || _a === void 0 ? void 0 : _a.import) && !Array.isArray((_b = submissionData === null || submissionData === void 0 ? void 0 : submissionData.data) === null || _b === void 0 ? void 0 : _b.import))\r\n                        submissionData.data.import = [(_c = submissionData === null || submissionData === void 0 ? void 0 : submissionData.data) === null || _c === void 0 ? void 0 : _c.import];\r\n                    return [4 /*yield*/, completeTask({\r\n                            variables: {\r\n                                data: submissionData.data,\r\n                                taskId: processState.taskId,\r\n                                processInstanceId: processState.processInstanceId,\r\n                            },\r\n                        })];\r\n                case 2:\r\n                    completeFormResponse = _e.sent();\r\n                    processFinished = finishCurrentTask((_d = completeFormResponse.data) === null || _d === void 0 ? void 0 : _d.completeProcessTask, dispatchProcessStateAction, function (nextTask) { return state.activeTask = nextTask; }).processFinished;\r\n                    if (processFinished) {\r\n                        actions.closeModal();\r\n                        OnProcessFinished && OnProcessFinished();\r\n                    }\r\n                    return [3 /*break*/, 4];\r\n                case 3:\r\n                    error_1 = _e.sent();\r\n                    console.error(\"handleSubmit error\", error_1);\r\n                    dispatchProcessStateAction({\r\n                        type: \"UPDATE_DATA\",\r\n                        payload: {\r\n                            executorState: \"SUBMIT_ERROR\",\r\n                        },\r\n                    });\r\n                    return [3 /*break*/, 4];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [completeTask, dispatchProcessStateAction, processState, OnProcessFinished]);\r\n    // event communication with iframe setup\r\n    useEffect(function () {\r\n        window.document.addEventListener(eventNames.submit, handleSubmit, false);\r\n        return function () {\r\n            return window.document.removeEventListener(eventNames.submit, handleSubmit, false);\r\n        };\r\n    }, [handleSubmit]);\r\n    if (processState.executorState === \"READY\" ||\r\n        processState.executorState === \"SUBMITTING\") {\r\n        return {\r\n            executorState: processState.executorState,\r\n            formDefinition: processState.formDefinition,\r\n            initialData: processState.initialData,\r\n            attachments: processState.attachments,\r\n        };\r\n    }\r\n    return {\r\n        executorState: processState.executorState,\r\n    };\r\n};\r\nvar useInitializeForm = function (dispatchProcessStateAction) {\r\n    var _a;\r\n    var startProcess = useStartProcess((_a = state.selectedProcess) === null || _a === void 0 ? void 0 : _a.key, state.processPayload).startProcess;\r\n    var initForm = useCallback(function (initFormData) {\r\n        var _a;\r\n        if (!initFormData ||\r\n            (initFormData && !initFormData.processInstanceId) ||\r\n            !initFormData.formDefinition) {\r\n            dispatchProcessStateAction({\r\n                type: \"SET_DATA\",\r\n                payload: {\r\n                    executorState: \"PROCESS_ERROR\",\r\n                },\r\n            });\r\n            return;\r\n        }\r\n        dispatchProcessStateAction({\r\n            type: \"UPDATE_DATA\",\r\n            payload: {\r\n                formDefinition: JSON.parse(initFormData.formDefinition),\r\n                initialData: initFormData.data || {},\r\n                attachments: attachmentsObjectToList((_a = initFormData.data) === null || _a === void 0 ? void 0 : _a.attachments),\r\n                taskId: initFormData.taskId,\r\n                processInstanceId: initFormData.processInstanceId,\r\n                executorState: \"READY\",\r\n            },\r\n        });\r\n    }, [dispatchProcessStateAction]);\r\n    useEffect(function () {\r\n        if (!state.selectedProcess)\r\n            return;\r\n        var hookRunning = true;\r\n        var initialize = function () { return __awaiter(void 0, void 0, void 0, function () {\r\n            var responseData;\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, startProcess()];\r\n                    case 1:\r\n                        responseData = (_a = (_b.sent()).data) === null || _a === void 0 ? void 0 : _a.startProcess;\r\n                        if (hookRunning) {\r\n                            if (responseData === null || responseData === void 0 ? void 0 : responseData.formKey) {\r\n                                state.activeTask = responseData;\r\n                                state.modalMode = \"open\";\r\n                                initForm(responseData);\r\n                            }\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); };\r\n        initialize();\r\n        return function () {\r\n            hookRunning = false;\r\n        };\r\n    }, [startProcess, initForm, state.selectedProcess]);\r\n};\r\nvar finishCurrentTask = function (nextTask, dispatchProcessStateAction, \r\n// @ts-ignore\r\nonNextTask) {\r\n    var _a;\r\n    if (onNextTask === void 0) { onNextTask = function (nextTask) { }; }\r\n    // process not ended we have next task\r\n    if (nextTask === null || nextTask === void 0 ? void 0 : nextTask.processInstanceId) {\r\n        var formDefinition = nextTask.formDefinition && JSON.parse(nextTask.formDefinition) || undefined;\r\n        dispatchProcessStateAction({\r\n            type: \"UPDATE_DATA\",\r\n            payload: {\r\n                formDefinition: formDefinition,\r\n                initialData: nextTask.data || {},\r\n                attachments: attachmentsObjectToList((_a = nextTask.data) === null || _a === void 0 ? void 0 : _a.attachments),\r\n                taskId: nextTask.taskId,\r\n                processInstanceId: nextTask.processInstanceId,\r\n                executorState: \"READY\",\r\n            },\r\n        });\r\n    }\r\n    return {\r\n        processFinished: !(nextTask === null || nextTask === void 0 ? void 0 : nextTask.formDefinition),\r\n    };\r\n};\r\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\r\n/** i18n-ally useTranslation(\"jsreport\") */\r\nimport { useEffect } from \"react\";\r\nimport { Frame } from \"@faharmony/views\";\r\nimport { Preloader, Text } from \"@faharmony/components\";\r\nimport { Center } from \"@faharmony/theme\";\r\nimport { useModuleTranslation } from \"@faharmony/module\";\r\nimport { eventNames } from \"../hook/useProcessExecutor\";\r\nimport { actions } from \"../state\";\r\nvar formDisplayerHTML = function (formDefinition, initialData, attachments) { return \"\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <div id=\\\"displayer\\\"> Loading... </div>\\n  <div id=\\\"attachments\\\"></div>\\n  <head>\\n    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'>\\n    <link rel='stylesheet' href='https://cdn.form.io/formiojs/formio.full.min.css'>\\n    <script src='https://cdn.form.io/formiojs/formio.full.min.js'></script>\\n  </head>  \\n  <script>\\n    Formio.createForm(document.getElementById('displayer'), \".concat(formDefinition, \", {})\\n      .then(function(form) {    \\n        form.submission = {\\n          data: \").concat(JSON.stringify(initialData, null, 2), \"\\n        };\\n        form.on('submit', (submission) => {        \\n          const event = new CustomEvent('\").concat(eventNames.submit, \"', {detail: submission})\\n          window.parent.document.dispatchEvent(event)\\n        });\\n      });\\n    const attachmentsContainer = document.getElementById(\\\"attachments\\\")\\n    const attachmentsList = \").concat(JSON.stringify(attachments, null, 2), \"\\n    attachmentsList.forEach(function(attachment){\\n      const attachmentLink = document.createElement(\\\"a\\\")\\n      attachmentLink.setAttribute(\\\"href\\\", attachment.url)\\n      attachmentLink.setAttribute(\\\"download\\\", attachment.name)\\n      attachmentLink.append(attachment.name)\\n      attachmentsContainer.append(attachmentLink);      \\n    })\\n  </script>\\n</html>\\n\"); };\r\nexport var FormDisplayer = function (_a) {\r\n    var _b, _c, _d;\r\n    var processState = _a.processState;\r\n    var t = useModuleTranslation();\r\n    if (((_b = processState.initialData) === null || _b === void 0 ? void 0 : _b.import) &&\r\n        Array.isArray((_c = processState.initialData) === null || _c === void 0 ? void 0 : _c.import))\r\n        processState.initialData.import = (_d = processState.initialData) === null || _d === void 0 ? void 0 : _d.import[0];\r\n    useEffect(function () {\r\n        if ([\"SUBMIT_ERROR\", \"PROCESS_ERROR\"].includes(processState.executorState))\r\n            actions.closeModal();\r\n    }, [processState.executorState]);\r\n    return (_jsxs(_Fragment, { children: [processState.executorState === \"READY\" && processState.formDefinition && (_jsx(Frame, { src: \"/\", srcDoc: formDisplayerHTML(JSON.stringify(processState.formDefinition), // ! TODO: remove stringify on React Formio implementation\r\n                processState.initialData, processState.attachments) })), processState.executorState === \"READY\" &&\r\n                !processState.formDefinition && (_jsx(Center, { children: t(\"formDisplayer.formNotFound\") })), processState.executorState === \"LOADING\" && _jsx(Preloader, {}), processState.executorState === \"SUBMITTING\" && _jsx(Preloader, {}), processState.executorState === \"SUBMIT_ERROR\" && (_jsx(Center, { children: _jsx(Text, { value: t(\"formDisplayer.submitError\"), variant: \"h2\" }) })), processState.executorState === \"PROCESS_ERROR\" && (_jsx(Center, { children: _jsx(Text, { value: t(\"formDisplayer.processError\"), variant: \"h2\" }) }))] }));\r\n};\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { useEffect } from \"react\";\r\nimport { useModal } from \"@faharmony/components\";\r\nimport { SummaryView } from \"@faharmony/views\";\r\nimport { actions, state } from \"../state\";\r\nimport { FormDisplayer } from \"./FormDisplayer\";\r\nimport { useProcessExecutor } from \"../hook/useProcessExecutor\";\r\nimport { addToast } from \"@faharmony/core\";\r\nexport var ProcessModal = function () {\r\n    var _a, _b;\r\n    var _c = __read(useModal(false), 3), ModalWrapper = _c[0], openModal = _c[1], closeModal = _c[2];\r\n    var processState = useProcessExecutor();\r\n    useEffect(function () {\r\n        if (state.modalMode === \"closed\")\r\n            closeModal();\r\n        else\r\n            openModal();\r\n        return function () { return closeModal(); };\r\n    }, [openModal, closeModal, state.modalMode]);\r\n    return (_jsx(ModalWrapper, __assign({ style: { width: \"98vw\", height: \"98vh\" } }, { children: _jsx(SummaryView, __assign({ caption: ((_a = state.selectedProcess) === null || _a === void 0 ? void 0 : _a.name) || \"\", heading: ((_b = state.activeTask) === null || _b === void 0 ? void 0 : _b.name) || \"\", footerContent: undefined, onClose: function () {\r\n                addToast({\r\n                    id: \"process-task-closed\",\r\n                    title: \"You can continue your task later from Workflows and tasks.\",\r\n                    variant: \"note\",\r\n                });\r\n                actions.closeModal();\r\n            } }, { children: state.selectedProcess && processState && (_jsx(FormDisplayer, { formKey: state.selectedProcess.key, processState: processState })) })) })));\r\n};\r\nexport default ProcessModal;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { MenuDrilldown } from \"@faharmony/shared\";\r\nimport { Preloader } from \"@faharmony/components\";\r\nimport { useGetProcessDefinitions, } from \"../hook/useGetProcessDefinitions\";\r\nimport ProcessModal from \"../components/ProcessModal\";\r\nimport { state } from \"../state\";\r\nimport { useSnapshot } from \"valtio\";\r\nexport var WorkflowsList = function (_a) {\r\n    var _b = _a.category, category = _b === void 0 ? \"\" : _b, _c = _a.payload, payload = _c === void 0 ? {} : _c, \r\n    // @ts-ignore\r\n    _d = _a.onWorkflowSelected, \r\n    // @ts-ignore\r\n    onWorkflowSelected = _d === void 0 ? function (process) { } : _d, _e = _a.enableFiltering, enableFiltering = _e === void 0 ? false : _e;\r\n    var _f = useGetProcessDefinitions({\r\n        category: category,\r\n    }), processes = _f.processes, loading = _f.loading;\r\n    useSnapshot(state);\r\n    return (_jsxs(\"div\", __assign({ style: { width: \"100%\" } }, { children: [_jsx(ProcessModal, {}), loading || !processes.length ? (_jsx(Preloader, {})) : (_jsx(\"div\", __assign({ style: { width: 320, height: 340 } }, { children: _jsx(MenuDrilldown, { enableFiltering: enableFiltering, optionsTree: {\r\n                        label: \"\",\r\n                        options: processes.map(function (processDefinition) { return ({\r\n                            key: processDefinition.key,\r\n                            label: processDefinition.name,\r\n                            payload: { processDefinition: processDefinition },\r\n                        }); }),\r\n                    }, onOptionSelected: function (_a) {\r\n                        var _b = __read(_a, 1), option = _b[0];\r\n                        var processDefinition = option.payload.processDefinition;\r\n                        onWorkflowSelected(processDefinition);\r\n                        state.selectedProcess = __assign({}, processDefinition);\r\n                        state.processPayload = __assign({}, payload);\r\n                    } }) })))] })));\r\n};\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nimport { ButtonPopover } from \"@faharmony/components\";\r\nimport { faPlay } from \"@faharmony/icons\";\r\nimport { WorkflowsList } from \"./WorkflowsList\";\r\nexport var StartWorkflowButtonPopover = function (_a) {\r\n    var _b = _a.category, category = _b === void 0 ? \"\" : _b, _c = _a.payload, payload = _c === void 0 ? {} : _c, _d = _a.tooltip, tooltip = _d === void 0 ? \"Start workflow\" : _d, _e = _a.enableFiltering, enableFiltering = _e === void 0 ? false : _e, \r\n    // @ts-ignore\r\n    _f = _a.onWorkflowSelected, \r\n    // @ts-ignore\r\n    onWorkflowSelected = _f === void 0 ? function (process) { } : _f;\r\n    return (_jsx(\"div\", __assign({ style: { width: \"100%\" } }, { children: _jsx(ButtonPopover, { icon: faPlay, spacing: \"sm\", outline: true, tooltip: tooltip, popoverPlacement: \"bottom-end\", popoverContentCallback: function (_a) {\r\n                var closePopover = _a.closePopover;\r\n                return (_jsx(WorkflowsList, { category: category, payload: payload, onWorkflowSelected: function (process) {\r\n                        closePopover();\r\n                        onWorkflowSelected(process);\r\n                    }, enableFiltering: enableFiltering }));\r\n            } }) })));\r\n};\r\n","import { PageView } from \"@faharmony/views\";\r\nimport { Box } from \"@faharmony/theme\";\r\nimport { MenuDrilldown } from \"@faharmony/shared\";\r\nimport { StartWorkflowButtonPopover } from \"@faharmony/taskmanager\";\r\nimport { useState } from \"react\";\r\n\r\nconst Page = () => {\r\n  const [selectedOption, setSelectedOption] = useState([]);\r\n  return (\r\n    <PageView heading=\"Menu Drilldown\" overflow=\"scroll\">\r\n      <Box direction=\"column\">\r\n        <div style={{ width: 300, height: 340 }}>\r\n          <StartWorkflowButtonPopover />\r\n          <MenuDrilldown\r\n            enableFiltering\r\n            optionsTree={{\r\n              label: \"Groupings\",\r\n              options: Object.values(groupingOptions).map(\r\n                ({ groupBy, label, key }) => {\r\n                  const hasSubOptions = groupingsWithSubOptions.includes(key);\r\n\r\n                  return {\r\n                    label,\r\n                    payload: {\r\n                      tableHeader: label,\r\n                      groupCode: \"\",\r\n                      groupBy,\r\n                    },\r\n                    options:\r\n                      hasSubOptions &&\r\n                      userPrefsGroupCodes?.map(({ code: groupCode, name }) => ({\r\n                        label: `${name} (${groupCode})`,\r\n                        payload: {\r\n                          tableHeader: `${label} (${name})`,\r\n                          groupBy,\r\n                          groupCode,\r\n                        },\r\n                      })),\r\n                  };\r\n                }\r\n              ),\r\n            }}\r\n            onOptionSelected={(option) => {\r\n              setSelectedOption(option);\r\n              console.log(option);\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            whiteSpace: \"pre\",\r\n          }}\r\n        >\r\n          <div style={{ zoom: 1.4 }}>\r\n            <strong>Selected option</strong> -{\" \"}\r\n            {JSON.stringify(selectedOption.at(-1), null, 4)?.replaceAll(\r\n              '\"',\r\n              \"\"\r\n            )}\r\n          </div>\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <strong>Returned array of selected options</strong> -{\" \"}\r\n          {JSON.stringify(selectedOption, null, 4)?.replaceAll('\"', \"\")}\r\n        </div>\r\n      </Box>\r\n    </PageView>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n\r\nconst groupingsWithSubOptions = [\r\n  \"groupAndSector\",\r\n  \"groupAndPortfolio\",\r\n  \"portfolioAndGroup\",\r\n];\r\n\r\nconst groupingOptions = {\r\n  groupAndSector: {\r\n    key: \"groupAndSector\",\r\n    groupBy: [\"GROUP\", \"SECTOR\", \"SECURITY\"],\r\n    label: \"Asset type and class\",\r\n  },\r\n  groupAndPortfolio: {\r\n    key: \"groupAndPortfolio\",\r\n    groupBy: [\"GROUP\", \"PORTFOLIO\", \"SECTOR\"],\r\n    label: \"Asset type and portfolio\",\r\n  },\r\n  securityType: {\r\n    key: \"securityType\",\r\n    groupBy: [\"TYPE\", \"SECURITY\"],\r\n    label: \"Security type\",\r\n  },\r\n  subType: {\r\n    key: \"subType\",\r\n    groupBy: [\"TYPE\", \"SUBTYPE\", \"SECURITY\"],\r\n    label: \"Security type and subtype\",\r\n  },\r\n  security: {\r\n    key: \"security\",\r\n    groupBy: [\"SECURITY\"],\r\n    label: \"Security\",\r\n  },\r\n  class1: {\r\n    key: \"class1\",\r\n    groupBy: [\"CLASS1\", \"SECURITY\"],\r\n    label: \"Class 1\",\r\n  },\r\n  class2: {\r\n    key: \"class2\",\r\n    groupBy: [\"CLASS2\", \"SECURITY\"],\r\n    label: \"Class 2\",\r\n  },\r\n  class3: {\r\n    key: \"class3\",\r\n    groupBy: [\"CLASS3\", \"SECURITY\"],\r\n    label: \"Class 3\",\r\n  },\r\n  class4: {\r\n    key: \"class4\",\r\n    groupBy: [\"CLASS4\", \"SECURITY\"],\r\n    label: \"Class 4\",\r\n  },\r\n  class5: {\r\n    key: \"class5\",\r\n    groupBy: [\"CLASS5\", \"SECURITY\"],\r\n    label: \"Class 5\",\r\n  },\r\n  country: {\r\n    key: \"country\",\r\n    groupBy: [\"COUNTRY\", \"SECURITY\"],\r\n    label: \"Country\",\r\n  },\r\n  marketPlace: {\r\n    key: \"marketPlace\",\r\n    groupBy: [\"MARKETPLACE\", \"SECURITY\"],\r\n    label: \"Market place\",\r\n  },\r\n  currency: {\r\n    key: \"currency\",\r\n    groupBy: [\"CURRENCY\", \"SECURITY\"],\r\n    label: \"Currency\",\r\n  },\r\n  portfolio: {\r\n    key: \"portfolio\",\r\n    groupBy: [\"PORTFOLIO\", \"TYPE\", \"SECURITY\"],\r\n    label: \"Portfolio\",\r\n  },\r\n  portfolioAndSubPortfolio: {\r\n    key: \"portfolioAndSubPortfolio\",\r\n    groupBy: [\"PORTFOLIO\", \"PORTFOLIO_ALL\", \"SECURITY\"],\r\n    label: \"Portfolio and sub portfolio\",\r\n  },\r\n  portfolioAndGroup: {\r\n    key: \"portfolioAndGroup\",\r\n    groupBy: [\"PORTFOLIO\", \"GROUP\", \"SECTOR\"],\r\n    label: \"Portfolio and asset type\",\r\n  },\r\n  issuer: {\r\n    key: \"issuer\",\r\n    groupBy: [\"ISSUER\", \"SECURITY\"],\r\n    label: \"Issuer\",\r\n  },\r\n};\r\n\r\nconst userPrefsGroupCodes = [\r\n  {\r\n    name: \"Asset class\",\r\n    code: \"ASSET\",\r\n  },\r\n  {\r\n    name: \"Geographical\",\r\n    code: \"GEO\",\r\n  },\r\n  {\r\n    name: \"Industry\",\r\n    code: \"IND\",\r\n  },\r\n  {\r\n    name: \"Strategy\",\r\n    code: \"Strategy\",\r\n  },\r\n  {\r\n    name: \"Robo class\",\r\n    code: \"ROBO\",\r\n  },\r\n  {\r\n    name: \"Currency\",\r\n    code: \"CURRENCY\",\r\n  },\r\n  {\r\n    name: \"Country exposure\",\r\n    code: \"COUNTRY\",\r\n  },\r\n  {\r\n    name: \"AIF Geo\",\r\n    code: \"AIFGEO\",\r\n  },\r\n  {\r\n    name: \"AIF Asset\",\r\n    code: \"AIFASSET\",\r\n  },\r\n  {\r\n    name: \"AIF Asset Turnover\",\r\n    code: \"AIFASSETTURNOVER\",\r\n  },\r\n  {\r\n    name: \"AIF Strategies\",\r\n    code: \"AIFSTRATEGIES\",\r\n  },\r\n  {\r\n    name: \"Model\",\r\n    code: \"MOD\",\r\n  },\r\n  {\r\n    name: \"Test ST\",\r\n    code: \"TEST_ST\",\r\n  },\r\n  {\r\n    name: \"Jv strategy test\",\r\n    code: \"JV_TEST\",\r\n  },\r\n  {\r\n    name: \"INT Asset Structure\",\r\n    code: \"INT_AS\",\r\n  },\r\n];\r\n"],"names":["templateObject_1","templateObject_2","templateObject_3","__makeTemplateObject","cooked","raw","Object","defineProperty","value","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","error","MenuList","_a","header","options","onOptionSelected","_b","onBack","undefined","_c","headless","_d","enableFiltering","_e","useState","filterInput","setFilterInput","_jsxs","ContentView","style","overflowX","headerHidden","headerTitle","HeaderContainer","children","_jsx","marginTop","Button","icon","backIcon","spacing","outline","onClick","Text","variant","truncate","FilterInput","onChange","target","autoFocus","placeholder","paddingTop","paddingBottom","AnimatePresence","filter","option","label","toLowerCase","includes","map","Item","transition","duration","ease","initial","opacity","x","animate","exit","flexGrow","Icon","faChevronRight","key","color","theme","styled","motion","background","hover","TextField","sm","__spreadArray","to","from","pack","l","Array","slice","concat","MenuDrilldown","optionsTree","renderedLists","setRenderedLists","selectedOptions","setSelectedOptions","MenuDrilldownContainer","RenderedListsContainer","newSelectedOptions","GET_PROCESS_DEFINITIONS","gql","state","proxy","modalMode","selectedProcess","activeTask","processPayload","actions","window","taskmanagerState","COMPLETE_PROCESS_TASK","START_PROCESS","data","startProcess","useMutation","variables","keys","onCompleted","formKey","addToast","id","title","description","onError","console","message","persist","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","result","then","__generator","body","f","y","g","_","sent","trys","ops","verb","v","op","TypeError","pop","processInitialState","executorState","processStateReducer","action","type","payload","newExecutorState","Error","eventNames","attachmentsObjectToList","attachments","values","useProcessExecutor","OnProcessFinished","useReducer","processState","dispatchProcessStateAction","useInitializeForm","completeTask","completeProcessTask","loading","reset","useCompleteTask","handleSubmit","useCallback","submissionData","completeFormResponse","error_1","detail","import","isArray","taskId","processInstanceId","finishCurrentTask","nextTask","processFinished","useEffect","document","addEventListener","removeEventListener","formDefinition","initialData","useStartProcess","initForm","initFormData","JSON","parse","hookRunning","responseData","onNextTask","FormDisplayer","useModuleTranslation","_Fragment","Frame","src","srcDoc","stringify","Center","Preloader","useModal","ModalWrapper","openModal","closeModal","width","height","SummaryView","caption","name","heading","footerContent","onClose","WorkflowsList","category","onWorkflowSelected","process","_f","maxCount","processes","setProcesses","useQuery","notifyOnNetworkStatusChange","processDefinitions","processDefinition","useGetProcessDefinitions","useSnapshot","ProcessModal","StartWorkflowButtonPopover","tooltip","ButtonPopover","faPlay","popoverPlacement","popoverContentCallback","closePopover","selectedOption","setSelectedOption","overflow","direction","groupingOptions","groupBy","hasSubOptions","groupingsWithSubOptions","tableHeader","groupCode","userPrefsGroupCodes","code","log","whiteSpace","zoom","at","replaceAll","groupAndSector","groupAndPortfolio","securityType","subType","security","class1","class2","class3","class4","class5","country","marketPlace","currency","portfolio","portfolioAndSubPortfolio","portfolioAndGroup","issuer"],"sourceRoot":""}