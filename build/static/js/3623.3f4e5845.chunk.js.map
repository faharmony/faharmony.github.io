{"version":3,"file":"static/js/3623.3f4e5845.chunk.js","mappings":"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","sources":["../../packages/shared/lib/MenuDrilldown/MenuList.js","../../packages/shared/lib/MenuDrilldown/MenuDrilldown.js","../../packages/taskmanager/lib/hook/useGetProcessDefinitions.js","../../packages/taskmanager/lib/state/initialState.js","../../packages/taskmanager/lib/state/reducers.js","../../packages/taskmanager/lib/state/index.js","../../node_modules/@apollo/src/react/hooks/useMutation.ts","../../packages/taskmanager/lib/hook/useCompleteTask.js","../../packages/taskmanager/lib/hook/useStartProcess.js","../../packages/taskmanager/lib/hook/useProcessExecutor.js","../../packages/taskmanager/lib/components/FormDisplayer.js","../../packages/taskmanager/lib/components/ProcessModal.js","../../packages/taskmanager/lib/StartWorkflow/WorkflowsList.js","../../packages/taskmanager/lib/StartWorkflow/StartWorkflowButtonPopover.js","modules/components/pages/Menu_Drilldown.tsx"],"sourcesContent":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport { Text, Button, Icon } from \"@faharmony/components\";\nimport { faArrowLeft as backIcon } from \"@faharmony/icons/solid\";\nimport { faChevronRight } from \"@faharmony/icons\";\nimport { ContentView } from \"@faharmony/views\";\nimport { AnimatePresence, motion, styled, theme } from \"@faharmony/theme\";\nimport { TextField } from \"@faharmony/form\";\nexport var MenuList = function (_a) {\n    var header = _a.header, options = _a.options, onOptionSelected = _a.onOptionSelected, _b = _a.onBack, onBack = _b === void 0 ? undefined : _b, _c = _a.headless, headless = _c === void 0 ? false : _c, _d = _a.enableFiltering, enableFiltering = _d === void 0 ? false : _d;\n    var _e = __read(useState(\"\"), 2), filterInput = _e[0], setFilterInput = _e[1];\n    return (_jsxs(ContentView, __assign({ style: { overflowX: \"hidden\" }, headerHidden: headless || !header, headerTitle: !headless &&\n            header && (_jsxs(HeaderContainer, { children: [onBack && (_jsx(\"div\", __assign({ style: { marginTop: -4 } }, { children: _jsx(Button, { icon: backIcon, spacing: \"sm\", outline: true, onClick: onBack }) }))), typeof header === \"string\" ? (_jsx(Text, __assign({ variant: \"h5\", truncate: true }, { children: header }))) : ({ header: header })] })) }, { children: [enableFiltering && (_jsx(FilterInput, { onChange: function (e) {\n                    setFilterInput(e.target.value);\n                }, value: filterInput, autoFocus: true, placeholder: \"Filter\" })), _jsx(\"div\", __assign({ style: { paddingTop: 8, paddingBottom: 8 } }, { children: _jsx(AnimatePresence, { children: options\n                        .filter(function (option) {\n                        return option.label.toLowerCase().includes(filterInput.toLowerCase());\n                    })\n                        .map(function (option) { return (_jsxs(Item, __assign({ transition: { duration: 0.15, ease: \"easeOut\" }, initial: { opacity: 0, x: 24 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: 24 }, onClick: function () {\n                            onOptionSelected(option);\n                            setFilterInput(\"\");\n                        } }, { children: [_jsx(\"div\", __assign({ style: { flexGrow: 1 } }, { children: option.label })), option.options && _jsx(Icon, { icon: faChevronRight })] }), option.key || option.label)); }) }) }))] })));\n};\nvar color = theme.color, spacing = theme.spacing;\nvar Item = styled(motion.div)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  padding: 8px;\\n  &:hover {\\n    cursor: pointer;\\n    background-color: \", \";\\n  }\\n\"], [\"\\n  display: flex;\\n  padding: 8px;\\n  &:hover {\\n    cursor: pointer;\\n    background-color: \", \";\\n  }\\n\"])), color.background.hover);\nvar FilterInput = styled(TextField)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  padding-top: \", \";\\n  padding-bottom: \", \";\\n  padding-left: \", \";\\n  padding-right: \", \";\\n\"], [\"\\n  padding-top: \", \";\\n  padding-bottom: \", \";\\n  padding-left: \", \";\\n  padding-right: \", \";\\n\"])), spacing.sm, spacing.sm, spacing.sm, spacing.sm);\nvar HeaderContainer = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: flex;\\n  gap: 8px;\\n  align-items: flex-start;\\n\"], [\"\\n  display: flex;\\n  gap: 8px;\\n  align-items: flex-start;\\n\"])));\nvar templateObject_1, templateObject_2, templateObject_3;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState } from \"react\";\nimport { MenuList } from \"./MenuList\";\nimport { AnimatePresence, motion, styled } from \"@faharmony/theme\";\nexport var MenuDrilldown = function (_a) {\n    var optionsTree = _a.optionsTree, onOptionSelected = _a.onOptionSelected, _b = _a.headless, headless = _b === void 0 ? false : _b, _c = _a.enableFiltering, enableFiltering = _c === void 0 ? false : _c;\n    var _d = __read(useState([optionsTree]), 2), renderedLists = _d[0], setRenderedLists = _d[1];\n    var _e = __read(useState([]), 2), selectedOptions = _e[0], setSelectedOptions = _e[1];\n    return (_jsx(MenuDrilldownContainer, { children: _jsx(AnimatePresence, { children: renderedLists.map(function (_a, i) {\n                var _b = _a.label, label = _b === void 0 ? \"\" : _b, options = _a.options;\n                return (_jsx(RenderedListsContainer, __assign({ transition: { duration: 0.2, ease: \"easeOut\" }, initial: { opacity: 0, x: 0 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: 0 } }, { children: _jsx(MenuList, { header: label, options: options, headless: headless, enableFiltering: enableFiltering, onBack: renderedLists.length > 1\n                            ? function () {\n                                setRenderedLists(renderedLists.slice(0, -1));\n                                setSelectedOptions(selectedOptions.slice(0, -1));\n                            }\n                            : undefined, onOptionSelected: function (option) {\n                            var newSelectedOptions = __spreadArray(__spreadArray([], __read(selectedOptions), false), [option], false);\n                            setSelectedOptions(newSelectedOptions);\n                            if (!option.options) {\n                                setRenderedLists([optionsTree]);\n                                setSelectedOptions([]);\n                                return onOptionSelected(newSelectedOptions);\n                            }\n                            setRenderedLists(__spreadArray(__spreadArray([], __read(renderedLists), false), [option], false));\n                        } }) }), i));\n            }) }) }));\n};\nvar MenuDrilldownContainer = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  min-width: 80px;\\n  min-height: 80px;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  min-width: 80px;\\n  min-height: 80px;\\n\"])));\nvar RenderedListsContainer = styled(motion.div)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n\"])));\nvar templateObject_1, templateObject_2;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { gql, useQuery } from \"@faharmony/service\";\nimport { useState } from \"react\";\nimport { addToast } from \"@faharmony/core\";\n// query for querying context aware processes\nvar GET_PROCESS_DEFINITIONS = gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  query getProcessDefinitions($category: String!, $maxCount: Int) {\\n    processDefinitions(maxCount: $maxCount, category: $category) {\\n      processDefinition {\\n        id\\n        key\\n        name\\n        category\\n        description\\n      }\\n      total\\n    }\\n  }\\n\"], [\"\\n  query getProcessDefinitions($category: String!, $maxCount: Int) {\\n    processDefinitions(maxCount: $maxCount, category: $category) {\\n      processDefinition {\\n        id\\n        key\\n        name\\n        category\\n        description\\n      }\\n      total\\n    }\\n  }\\n\"])));\nexport var useGetProcessDefinitions = function (_a) {\n    var _b = _a.category, category = _b === void 0 ? \"\" : _b, _c = _a.maxCount, maxCount = _c === void 0 ? 10000 : _c;\n    var _d = __read(useState([]), 2), processes = _d[0], setProcesses = _d[1];\n    var _e = useQuery(GET_PROCESS_DEFINITIONS, {\n        notifyOnNetworkStatusChange: true,\n        variables: {\n            category: category,\n            maxCount: maxCount,\n        },\n        onError: function (error) {\n            addToast({\n                id: \"process-definitions-error\",\n                title: \"Error, could not get workflows definitions\",\n                description: error.message,\n                variant: \"negative\",\n                persist: true,\n            });\n        },\n        onCompleted: function (data) {\n            try {\n                setProcesses(data.processDefinitions.processDefinition);\n            }\n            catch (error) {\n                console.error(error);\n                addToast({\n                    id: \"failed-parsing-process-definitions\",\n                    title: \"Error, failed to parse workflows definitions\",\n                    variant: \"negative\",\n                    persist: true,\n                });\n            }\n        },\n    }), data = _e.data, loading = _e.loading, error = _e.error;\n    return {\n        processes: processes,\n        data: data,\n        error: error,\n        loading: loading,\n    };\n};\nvar templateObject_1;\n","/** Initial state of Module */\nvar initialState = {\n    modalMode: \"closed\",\n    selectedProcess: undefined,\n    activeTask: undefined,\n    processPayload: undefined,\n};\nexport default initialState;\n","// -------------------\n// Edit reducers below\nexport var selectProcess = function (state, _a) {\n    var payload = _a.payload;\n    state.selectedProcess = payload;\n};\nexport var setProcessPayload = function (state, _a) {\n    var payload = _a.payload;\n    state.processPayload = payload;\n};\nexport var setActiveTask = function (state, _a) {\n    var payload = _a.payload;\n    state.activeTask = payload;\n};\nexport var openProcessModal = function (state) {\n    state.modalMode = \"open\";\n};\nexport var closeProcessModal = function (state) {\n    state.modalMode = \"closed\";\n    state.selectedProcess = undefined;\n};\n","/**\n * State\n * ---\n * @readonly No edit required in this file unless\n * \"ModuleId\" changes.\n *\n * This directory contains module state.\n * Harmony uses the Redux-Toolkit setup and\n * treats each Module as a Slice.\n *\n * Use other files like `types.ts`,\n * `initialState.ts` and `reducers.ts`\n * to maintain the functionality of ModuleState.\n * This file is responsible for combining them.\n *\n * There is no need for separately creating or\n * maintaining `actions` as they are generated\n * using slice's case reducers.\n */\nimport { createModuleState, createUseModuleStateHook, useDispatch, } from \"@faharmony/state\";\nimport initialState from \"./initialState\";\nimport * as reducers from \"./reducers\";\n/** Module ID as defined in the `index.ts` of the Module */\nvar ModuleID = \"tasksmanager\";\n/** Create Module's state using wrapper of createSlice(). */\nvar ModuleState = createModuleState({\n    /** name should be exact same as Module ID. */\n    name: ModuleID,\n    /** Initial value of Module's state. */\n    initialState: initialState,\n    /** Object of case reducers to modify Module's state. */\n    reducers: reducers,\n});\n// Create hooks for accessing Module's state\nvar _a = createUseModuleStateHook(ModuleID), useModuleState = _a.useModuleState, useModuleStateSelector = _a.useModuleStateSelector;\n// Extract `actions` from Module's state\nvar ModuleActions = ModuleState.actions;\n// Export state for Module config and actions for dispatch usage.\nexport { ModuleState, ModuleActions, useDispatch, useModuleState, useModuleStateSelector, };\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { DocumentNode } from 'graphql';\nimport { TypedDocumentNode } from '@graphql-typed-document-node/core';\nimport {\n  MutationFunctionOptions,\n  MutationHookOptions,\n  MutationResult,\n  MutationTuple,\n} from '../types/types';\n\nimport {\n  ApolloCache,\n  DefaultContext,\n  mergeOptions,\n  OperationVariables,\n} from '../../core';\nimport { equal } from '@wry/equality';\nimport { DocumentType, verifyDocumentType } from '../parser';\nimport { ApolloError } from '../../errors';\nimport { useApolloClient } from './useApolloClient';\n\nexport function useMutation<\n  TData = any,\n  TVariables = OperationVariables,\n  TContext = DefaultContext,\n  TCache extends ApolloCache<any> = ApolloCache<any>,\n>(\n  mutation: DocumentNode | TypedDocumentNode<TData, TVariables>,\n  options?: MutationHookOptions<TData, TVariables, TContext>,\n): MutationTuple<TData, TVariables, TContext, TCache> {\n  const client = useApolloClient(options?.client);\n  verifyDocumentType(mutation, DocumentType.Mutation);\n  const [result, setResult] = useState<Omit<MutationResult, 'reset'>>({\n    called: false,\n    loading: false,\n    client,\n  });\n\n  const ref = useRef({\n    result,\n    mutationId: 0,\n    isMounted: true,\n    client,\n    mutation,\n    options,\n  });\n\n  // TODO: Trying to assign these in a useEffect or useLayoutEffect breaks\n  // higher-order components.\n  {\n    Object.assign(ref.current, { client, options, mutation });\n  }\n\n  const execute = useCallback((\n    executeOptions: MutationFunctionOptions<\n      TData,\n      TVariables,\n      TContext,\n      TCache\n    > = {}\n  ) => {\n    const {client, options, mutation} = ref.current;\n    const baseOptions = { ...options, mutation };\n    if (!ref.current.result.loading && !baseOptions.ignoreResults) {\n      setResult(ref.current.result = {\n        loading: true,\n        error: void 0,\n        data: void 0,\n        called: true,\n        client,\n      });\n    }\n\n    const mutationId = ++ref.current.mutationId;\n    const clientOptions = mergeOptions(\n      baseOptions,\n      executeOptions as any,\n    );\n\n    return client.mutate(clientOptions).then((response) => {\n      const { data, errors } = response;\n      const error =\n        errors && errors.length > 0\n          ? new ApolloError({ graphQLErrors: errors })\n          : void 0;\n\n      if (\n        mutationId === ref.current.mutationId &&\n        !clientOptions.ignoreResults\n      ) {\n        const result = {\n          called: true,\n          loading: false,\n          data,\n          error,\n          client,\n        };\n\n        if (ref.current.isMounted && !equal(ref.current.result, result)) {\n          setResult(ref.current.result = result);\n        }\n      }\n\n      ref.current.options?.onCompleted?.(response.data!);\n      executeOptions.onCompleted?.(response.data!);\n      return response;\n    }).catch((error) => {\n      if (\n        mutationId === ref.current.mutationId &&\n        ref.current.isMounted\n      ) {\n        const result = {\n          loading: false,\n          error,\n          data: void 0,\n          called: true,\n          client,\n        };\n\n        if (!equal(ref.current.result, result)) {\n          setResult(ref.current.result = result);\n        }\n      }\n\n      if (ref.current.options?.onError || clientOptions.onError) {\n        ref.current.options?.onError?.(error);\n        executeOptions.onError?.(error);\n        // TODO(brian): why are we returning this here???\n        return { data: void 0, errors: error };\n      }\n\n      throw error;\n    });\n  }, []);\n\n  const reset = useCallback(() => {\n    setResult({ called: false, loading: false, client });\n  }, []);\n\n  useEffect(() => {\n    ref.current.isMounted = true;\n\n    return () => {\n      ref.current.isMounted = false;\n    };\n  }, []);\n\n  return [execute, { reset, ...result }];\n}\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useMutation, gql } from \"@apollo/client\";\nimport { addToast } from \"@faharmony/core\";\nvar COMPLETE_PROCESS_TASK = gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  mutation ($taskId: String, $data: Json) {\\n    completeProcessTask(\\n      taskId: $taskId\\n      data: $data\\n    ) {\\n      formKey\\n      formDefinition\\n      taskId\\n      processInstanceId\\n      data\\n    }\\n  }\\n\"], [\"\\n  mutation ($taskId: String, $data: Json) {\\n    completeProcessTask(\\n      taskId: $taskId\\n      data: $data\\n    ) {\\n      formKey\\n      formDefinition\\n      taskId\\n      processInstanceId\\n      data\\n    }\\n  }\\n\"])));\nexport var useCompleteTask = function () {\n    var _a = __read(useMutation(COMPLETE_PROCESS_TASK, {\n        onCompleted: function (data) {\n            var _a;\n            if (!((_a = data.completeProcessTask) === null || _a === void 0 ? void 0 : _a.formKey))\n                addToast({\n                    id: \"start-process-success\",\n                    title: \"Success\",\n                    description: \"Workflow started successfully\",\n                    variant: \"positive\",\n                });\n        },\n        onError: function (error) {\n            console.error(error);\n            addToast({\n                id: \"start-process-error\",\n                title: \"Error\",\n                description: error.message,\n                variant: \"negative\",\n                persist: true,\n            });\n        },\n    }), 2), completeTask = _a[0], _b = _a[1], data = _b.data, loading = _b.loading, error = _b.error, reset = _b.reset;\n    return {\n        loading: loading,\n        error: error,\n        reset: reset,\n        data: data,\n        completeTask: completeTask,\n    };\n};\nvar templateObject_1;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useMutation, gql } from \"@apollo/client\";\nimport { addToast } from \"@faharmony/core\";\nvar START_PROCESS = gql(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  mutation startProcess($key: String, $data: Json) {\\n    startProcess(key: $key, data: $data) {\\n      assignee\\n      candidateGroups\\n      attachments\\n      candidateUsers\\n      category\\n      claimTime\\n      createTime\\n      data\\n      description\\n      dueDate\\n      formDefinition\\n      formKey\\n      id\\n      name\\n      owner\\n      parentTaskId\\n      priority\\n      processDefinitionId\\n      processInstanceId\\n      taskDefinitionKey\\n      taskId\\n    }\\n  }\\n\"], [\"\\n  mutation startProcess($key: String, $data: Json) {\\n    startProcess(key: $key, data: $data) {\\n      assignee\\n      candidateGroups\\n      attachments\\n      candidateUsers\\n      category\\n      claimTime\\n      createTime\\n      data\\n      description\\n      dueDate\\n      formDefinition\\n      formKey\\n      id\\n      name\\n      owner\\n      parentTaskId\\n      priority\\n      processDefinitionId\\n      processInstanceId\\n      taskDefinitionKey\\n      taskId\\n    }\\n  }\\n\"])));\nfunction useStartProcess(key, data) {\n    var _a = __read(useMutation(START_PROCESS, {\n        variables: {\n            key: key,\n            data: data && Object.keys(data).length ? data : null, // currently empty payload is causing a server error, thus if payload is empty, set it to null\n        },\n        onCompleted: function (data) {\n            var _a;\n            if (!((_a = data.startProcess) === null || _a === void 0 ? void 0 : _a.formKey))\n                addToast({\n                    id: \"start-process-success\",\n                    title: \"Success\",\n                    description: \"Workflow started successfully\",\n                    variant: \"positive\",\n                });\n        },\n        onError: function (error) {\n            console.error(error);\n            addToast({\n                id: \"start-process-error\",\n                title: \"Error\",\n                description: error.message,\n                variant: \"negative\",\n                persist: true,\n            });\n        },\n    }), 1), startProcess = _a[0];\n    return {\n        startProcess: startProcess,\n    };\n}\nexport default useStartProcess;\nvar templateObject_1;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useEffect, useCallback, useReducer } from \"react\";\nimport { ModuleActions, useDispatch, useModuleState } from \"../state\";\nimport { useCompleteTask } from \"./useCompleteTask\";\nimport useStartProcess from \"./useStartProcess\";\nvar processInitialState = {\n    executorState: \"LOADING\",\n};\nvar processStateReducer = function (state, action) {\n    var _a;\n    switch (action.type) {\n        case \"UPDATE_DATA\": {\n            var payload = action.payload;\n            var newExecutorState = (_a = payload.executorState) !== null && _a !== void 0 ? _a : state.executorState;\n            if (newExecutorState === \"READY\" ||\n                newExecutorState === \"SUBMITTING\" ||\n                newExecutorState === \"SUBMIT_ERROR\") {\n                return __assign(__assign({}, state), payload);\n            }\n            return { executorState: newExecutorState };\n        }\n        case \"SET_DATA\":\n            return action.payload;\n        case \"RESET_SUBMIT_ERROR\":\n            if (state.executorState === \"READY\" ||\n                state.executorState === \"SUBMITTING\" ||\n                state.executorState === \"SUBMIT_ERROR\") {\n                return __assign(__assign({}, state), { executorState: \"READY\" });\n            }\n            return state;\n        default:\n            throw new Error();\n    }\n};\nexport var eventNames = {\n    submit: \"formSubmitEvent\",\n};\nvar attachmentsObjectToList = function (attachments) { return (attachments ? Object.values(attachments) : []); };\nexport var useProcessExecutor = function (OnProcessFinished) {\n    var dispatch = useDispatch();\n    var _a = __read(useReducer(processStateReducer, processInitialState), 2), processState = _a[0], dispatchProcessStateAction = _a[1];\n    useInitializeForm(dispatchProcessStateAction);\n    var completeTask = useCompleteTask().completeTask;\n    var handleSubmit = useCallback(function (e) { return __awaiter(void 0, void 0, void 0, function () {\n        var submissionData, completeFormResponse, processFinished, error_1;\n        var _a, _b, _c, _d;\n        return __generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    submissionData = e.detail;\n                    if (processState.executorState !== \"READY\" || !submissionData) {\n                        return [2 /*return*/];\n                    }\n                    dispatchProcessStateAction({\n                        type: \"UPDATE_DATA\",\n                        payload: {\n                            executorState: \"SUBMITTING\",\n                        },\n                    });\n                    _e.label = 1;\n                case 1:\n                    _e.trys.push([1, 3, , 4]);\n                    // to satisfy backend logic, import is wrapped in an array\n                    if (((_a = submissionData === null || submissionData === void 0 ? void 0 : submissionData.data) === null || _a === void 0 ? void 0 : _a.import) && !Array.isArray((_b = submissionData === null || submissionData === void 0 ? void 0 : submissionData.data) === null || _b === void 0 ? void 0 : _b.import))\n                        submissionData.data.import = [(_c = submissionData === null || submissionData === void 0 ? void 0 : submissionData.data) === null || _c === void 0 ? void 0 : _c.import];\n                    return [4 /*yield*/, completeTask({\n                            variables: {\n                                data: submissionData.data,\n                                taskId: processState.taskId,\n                                processInstanceId: processState.processInstanceId,\n                            },\n                        })];\n                case 2:\n                    completeFormResponse = _e.sent();\n                    processFinished = finishCurrentTask((_d = completeFormResponse.data) === null || _d === void 0 ? void 0 : _d.completeProcessTask, dispatchProcessStateAction, function (nextTask) { return dispatch(ModuleActions.setActiveTask(nextTask)); }).processFinished;\n                    if (processFinished) {\n                        dispatch(ModuleActions.closeProcessModal());\n                        OnProcessFinished && OnProcessFinished();\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _e.sent();\n                    console.error(\"handleSubmit error\", error_1);\n                    dispatchProcessStateAction({\n                        type: \"UPDATE_DATA\",\n                        payload: {\n                            executorState: \"SUBMIT_ERROR\",\n                        },\n                    });\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [completeTask, dispatchProcessStateAction, processState, OnProcessFinished]);\n    // event communication with iframe setup\n    useEffect(function () {\n        window.document.addEventListener(eventNames.submit, handleSubmit, false);\n        return function () {\n            return window.document.removeEventListener(eventNames.submit, handleSubmit, false);\n        };\n    }, [handleSubmit]);\n    if (processState.executorState === \"READY\" ||\n        processState.executorState === \"SUBMITTING\") {\n        return {\n            executorState: processState.executorState,\n            formDefinition: processState.formDefinition,\n            initialData: processState.initialData,\n            attachments: processState.attachments,\n        };\n    }\n    return {\n        executorState: processState.executorState,\n    };\n};\nvar useInitializeForm = function (dispatchProcessStateAction) {\n    var _a = useModuleState(), selectedProcess = _a.selectedProcess, processPayload = _a.processPayload;\n    var startProcess = useStartProcess(selectedProcess === null || selectedProcess === void 0 ? void 0 : selectedProcess.key, processPayload).startProcess;\n    var dispatch = useDispatch();\n    var initForm = useCallback(function (initFormData) {\n        var _a;\n        if (!initFormData ||\n            (initFormData && !initFormData.processInstanceId) ||\n            !initFormData.formDefinition) {\n            dispatchProcessStateAction({\n                type: \"SET_DATA\",\n                payload: {\n                    executorState: \"PROCESS_ERROR\",\n                },\n            });\n            return;\n        }\n        dispatchProcessStateAction({\n            type: \"UPDATE_DATA\",\n            payload: {\n                formDefinition: JSON.parse(initFormData.formDefinition),\n                initialData: initFormData.data || {},\n                attachments: attachmentsObjectToList((_a = initFormData.data) === null || _a === void 0 ? void 0 : _a.attachments),\n                taskId: initFormData.taskId,\n                processInstanceId: initFormData.processInstanceId,\n                executorState: \"READY\",\n            },\n        });\n    }, [dispatchProcessStateAction]);\n    useEffect(function () {\n        if (!selectedProcess)\n            return;\n        var hookRunning = true;\n        var initialize = function () { return __awaiter(void 0, void 0, void 0, function () {\n            var responseData;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, startProcess()];\n                    case 1:\n                        responseData = (_a = (_b.sent()).data) === null || _a === void 0 ? void 0 : _a.startProcess;\n                        if (hookRunning) {\n                            if (responseData === null || responseData === void 0 ? void 0 : responseData.formKey) {\n                                dispatch(ModuleActions.setActiveTask(responseData));\n                                dispatch(ModuleActions.openProcessModal());\n                                initForm(responseData);\n                            }\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        initialize();\n        return function () {\n            hookRunning = false;\n        };\n    }, [startProcess, initForm, selectedProcess]);\n};\nvar finishCurrentTask = function (nextTask, dispatchProcessStateAction, \n// @ts-ignore\nonNextTask) {\n    var _a;\n    if (onNextTask === void 0) { onNextTask = function (nextTask) { }; }\n    // process not ended we have next task\n    if (nextTask === null || nextTask === void 0 ? void 0 : nextTask.processInstanceId) {\n        var formDefinition = nextTask.formDefinition && JSON.parse(nextTask.formDefinition) || undefined;\n        dispatchProcessStateAction({\n            type: \"UPDATE_DATA\",\n            payload: {\n                formDefinition: formDefinition,\n                initialData: nextTask.data || {},\n                attachments: attachmentsObjectToList((_a = nextTask.data) === null || _a === void 0 ? void 0 : _a.attachments),\n                taskId: nextTask.taskId,\n                processInstanceId: nextTask.processInstanceId,\n                executorState: \"READY\",\n            },\n        });\n    }\n    return {\n        processFinished: !(nextTask === null || nextTask === void 0 ? void 0 : nextTask.formDefinition),\n    };\n};\n","import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\n/** i18n-ally useTranslation(\"jsreport\") */\nimport { useEffect } from \"react\";\nimport { Frame } from \"@faharmony/views\";\nimport { Preloader, Text } from \"@faharmony/components\";\nimport { Center } from \"@faharmony/theme\";\nimport { useModuleTranslation } from \"@faharmony/module\";\nimport { ModuleActions, useDispatch } from \"../state\";\nimport { eventNames } from \"../hook/useProcessExecutor\";\nvar formDisplayerHTML = function (formDefinition, initialData, attachments) { return \"\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <div id=\\\"displayer\\\"> Loading... </div>\\n  <div id=\\\"attachments\\\"></div>\\n  <head>\\n    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'>\\n    <link rel='stylesheet' href='https://cdn.form.io/formiojs/formio.full.min.css'>\\n    <script src='https://cdn.form.io/formiojs/formio.full.min.js'></script>\\n  </head>  \\n  <script>\\n    Formio.createForm(document.getElementById('displayer'), \".concat(formDefinition, \", {})\\n      .then(function(form) {    \\n        form.submission = {\\n          data: \").concat(JSON.stringify(initialData, null, 2), \"\\n        };\\n        form.on('submit', (submission) => {        \\n          const event = new CustomEvent('\").concat(eventNames.submit, \"', {detail: submission})\\n          window.parent.document.dispatchEvent(event)\\n        });\\n      });\\n    const attachmentsContainer = document.getElementById(\\\"attachments\\\")\\n    const attachmentsList = \").concat(JSON.stringify(attachments, null, 2), \"\\n    attachmentsList.forEach(function(attachment){\\n      const attachmentLink = document.createElement(\\\"a\\\")\\n      attachmentLink.setAttribute(\\\"href\\\", attachment.url)\\n      attachmentLink.setAttribute(\\\"download\\\", attachment.name)\\n      attachmentLink.append(attachment.name)\\n      attachmentsContainer.append(attachmentLink);      \\n    })\\n  </script>\\n</html>\\n\"); };\nexport var FormDisplayer = function (_a) {\n    var _b, _c, _d;\n    var processState = _a.processState;\n    var t = useModuleTranslation();\n    if (((_b = processState.initialData) === null || _b === void 0 ? void 0 : _b.import) &&\n        Array.isArray((_c = processState.initialData) === null || _c === void 0 ? void 0 : _c.import))\n        processState.initialData.import = (_d = processState.initialData) === null || _d === void 0 ? void 0 : _d.import[0];\n    var dispatch = useDispatch();\n    useEffect(function () {\n        if ([\"SUBMIT_ERROR\", \"PROCESS_ERROR\"].includes(processState.executorState))\n            dispatch(ModuleActions.closeProcessModal());\n    }, [processState.executorState]);\n    return (_jsxs(_Fragment, { children: [processState.executorState === \"READY\" && processState.formDefinition && (_jsx(Frame, { src: \"/\", srcDoc: formDisplayerHTML(JSON.stringify(processState.formDefinition), // ! TODO: remove stringify on React Formio implementation\n                processState.initialData, processState.attachments) })), processState.executorState === \"READY\" &&\n                !processState.formDefinition && (_jsx(Center, { children: t(\"formDisplayer.formNotFound\") })), processState.executorState === \"LOADING\" && _jsx(Preloader, {}), processState.executorState === \"SUBMITTING\" && _jsx(Preloader, {}), processState.executorState === \"SUBMIT_ERROR\" && (_jsx(Center, { children: _jsx(Text, { value: t(\"formDisplayer.submitError\"), variant: \"h2\" }) })), processState.executorState === \"PROCESS_ERROR\" && (_jsx(Center, { children: _jsx(Text, { value: t(\"formDisplayer.processError\"), variant: \"h2\" }) }))] }));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { useModal } from \"@faharmony/components\";\nimport { SummaryView } from \"@faharmony/views\";\nimport { useModuleStateSelector, useDispatch, ModuleActions } from \"../state\";\nimport { FormDisplayer } from \"./FormDisplayer\";\nimport { useProcessExecutor } from \"../hook/useProcessExecutor\";\nimport { addToast } from \"@faharmony/core\";\nexport var ProcessModal = function () {\n    var dispatch = useDispatch();\n    var modalMode = useModuleStateSelector(function (state) { return state.modalMode; });\n    var selectedProcess = useModuleStateSelector(function (state) { return state.selectedProcess; });\n    var activeTask = useModuleStateSelector(function (state) { return state.activeTask; });\n    var _a = __read(useModal(false), 3), ModalWrapper = _a[0], openModal = _a[1], closeModal = _a[2];\n    var processState = useProcessExecutor();\n    useEffect(function () {\n        if (modalMode === \"closed\")\n            closeModal();\n        else\n            openModal();\n        return function () { return closeModal(); };\n    }, [modalMode, openModal, closeModal]);\n    return (_jsx(ModalWrapper, __assign({ style: { width: \"98vw\", height: \"98vh\" } }, { children: _jsx(SummaryView, __assign({ caption: (selectedProcess === null || selectedProcess === void 0 ? void 0 : selectedProcess.name) || \"\", heading: (activeTask === null || activeTask === void 0 ? void 0 : activeTask.name) || \"\", footerContent: undefined, onClose: function () {\n                addToast({\n                    id: \"process-task-closed\",\n                    title: \"You can continue your task later from Workflows and tasks.\",\n                    variant: \"note\",\n                });\n                dispatch(ModuleActions.closeProcessModal());\n            } }, { children: selectedProcess && processState && (_jsx(FormDisplayer, { formKey: selectedProcess.key, processState: processState })) })) })));\n};\nexport default ProcessModal;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { MenuDrilldown } from \"@faharmony/shared\";\nimport { Preloader } from \"@faharmony/components\";\nimport { useGetProcessDefinitions, } from \"../hook/useGetProcessDefinitions\";\nimport { ModuleActions, useDispatch } from \"../state\";\nimport ProcessModal from \"../components/ProcessModal\";\nexport var WorkflowsList = function (_a) {\n    var _b = _a.category, category = _b === void 0 ? \"\" : _b, _c = _a.payload, payload = _c === void 0 ? {} : _c, \n    // @ts-ignore\n    _d = _a.onWorkflowSelected, \n    // @ts-ignore\n    onWorkflowSelected = _d === void 0 ? function (process) { } : _d, _e = _a.enableFiltering, enableFiltering = _e === void 0 ? false : _e;\n    var _f = useGetProcessDefinitions({\n        category: category,\n    }), processes = _f.processes, loading = _f.loading;\n    var dispatch = useDispatch();\n    return (_jsxs(\"div\", __assign({ style: { width: \"100%\" } }, { children: [_jsx(ProcessModal, {}), loading || !processes.length ? (_jsx(Preloader, {})) : (_jsx(\"div\", __assign({ style: { width: 320, height: 340 } }, { children: _jsx(MenuDrilldown, { enableFiltering: enableFiltering, optionsTree: {\n                        label: \"\",\n                        options: processes.map(function (processDefinition) { return ({\n                            key: processDefinition.key,\n                            label: processDefinition.name,\n                            payload: { processDefinition: processDefinition },\n                        }); }),\n                    }, onOptionSelected: function (_a) {\n                        var _b = __read(_a, 1), option = _b[0];\n                        var processDefinition = option.payload.processDefinition;\n                        onWorkflowSelected(processDefinition);\n                        dispatch(ModuleActions.selectProcess(processDefinition));\n                        dispatch(ModuleActions.setProcessPayload(payload));\n                    } }) })))] })));\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { ButtonPopover } from \"@faharmony/components\";\nimport { faPlay } from \"@faharmony/icons\";\nimport { WorkflowsList } from \"./WorkflowsList\";\nexport var StartWorkflowButtonPopover = function (_a) {\n    var _b = _a.category, category = _b === void 0 ? \"\" : _b, _c = _a.payload, payload = _c === void 0 ? {} : _c, _d = _a.tooltip, tooltip = _d === void 0 ? \"Start workflow\" : _d, _e = _a.enableFiltering, enableFiltering = _e === void 0 ? false : _e, \n    // @ts-ignore\n    _f = _a.onWorkflowSelected, \n    // @ts-ignore\n    onWorkflowSelected = _f === void 0 ? function (process) { } : _f;\n    return (_jsx(\"div\", __assign({ style: { width: \"100%\" } }, { children: _jsx(ButtonPopover, { icon: faPlay, spacing: \"sm\", outline: true, tooltip: tooltip, popoverPlacement: \"bottom-end\", popoverContentCallback: function (_a) {\n                var closePopover = _a.closePopover;\n                return (_jsx(WorkflowsList, { category: category, payload: payload, onWorkflowSelected: function (process) {\n                        closePopover();\n                        onWorkflowSelected(process);\n                    }, enableFiltering: enableFiltering }));\n            } }) })));\n};\n","import { PageView } from \"@faharmony/views\";\nimport { Box } from \"@faharmony/theme\";\nimport { MenuDrilldown } from \"@faharmony/shared\";\nimport { StartWorkflowButtonPopover } from \"@faharmony/taskmanager\";\nimport { useState } from \"react\";\n\nconst Page = () => {\n  const [selectedOption, setSelectedOption] = useState([]);\n  return (\n    <PageView heading=\"Menu Drilldown\" overflow=\"scroll\">\n      <Box direction=\"column\">\n        <div style={{ width: 300, height: 340 }}>\n          <StartWorkflowButtonPopover />\n          <MenuDrilldown\n            enableFiltering\n            optionsTree={{\n              label: \"Groupings\",\n              options: Object.values(groupingOptions).map(\n                ({ groupBy, label, key }) => {\n                  const hasSubOptions = groupingsWithSubOptions.includes(key);\n\n                  return {\n                    label,\n                    payload: {\n                      tableHeader: label,\n                      groupCode: \"\",\n                      groupBy,\n                    },\n                    options:\n                      hasSubOptions &&\n                      userPrefsGroupCodes?.map(({ code: groupCode, name }) => ({\n                        label: `${name} (${groupCode})`,\n                        payload: {\n                          tableHeader: `${label} (${name})`,\n                          groupBy,\n                          groupCode,\n                        },\n                      })),\n                  };\n                }\n              ),\n            }}\n            onOptionSelected={(option) => {\n              setSelectedOption(option);\n              console.log(option);\n            }}\n          />\n        </div>\n        <div\n          style={{\n            whiteSpace: \"pre\",\n          }}\n        >\n          <div style={{ zoom: 1.4 }}>\n            <strong>Selected option</strong> -{\" \"}\n            {JSON.stringify(selectedOption.at(-1), null, 4)?.replaceAll(\n              '\"',\n              \"\"\n            )}\n          </div>\n          <br />\n          <br />\n          <br />\n          <strong>Returned array of selected options</strong> -{\" \"}\n          {JSON.stringify(selectedOption, null, 4)?.replaceAll('\"', \"\")}\n        </div>\n      </Box>\n    </PageView>\n  );\n};\n\nexport default Page;\n\nconst groupingsWithSubOptions = [\n  \"groupAndSector\",\n  \"groupAndPortfolio\",\n  \"portfolioAndGroup\",\n];\n\nconst groupingOptions = {\n  groupAndSector: {\n    key: \"groupAndSector\",\n    groupBy: [\"GROUP\", \"SECTOR\", \"SECURITY\"],\n    label: \"Asset type and class\",\n  },\n  groupAndPortfolio: {\n    key: \"groupAndPortfolio\",\n    groupBy: [\"GROUP\", \"PORTFOLIO\", \"SECTOR\"],\n    label: \"Asset type and portfolio\",\n  },\n  securityType: {\n    key: \"securityType\",\n    groupBy: [\"TYPE\", \"SECURITY\"],\n    label: \"Security type\",\n  },\n  subType: {\n    key: \"subType\",\n    groupBy: [\"TYPE\", \"SUBTYPE\", \"SECURITY\"],\n    label: \"Security type and subtype\",\n  },\n  security: {\n    key: \"security\",\n    groupBy: [\"SECURITY\"],\n    label: \"Security\",\n  },\n  class1: {\n    key: \"class1\",\n    groupBy: [\"CLASS1\", \"SECURITY\"],\n    label: \"Class 1\",\n  },\n  class2: {\n    key: \"class2\",\n    groupBy: [\"CLASS2\", \"SECURITY\"],\n    label: \"Class 2\",\n  },\n  class3: {\n    key: \"class3\",\n    groupBy: [\"CLASS3\", \"SECURITY\"],\n    label: \"Class 3\",\n  },\n  class4: {\n    key: \"class4\",\n    groupBy: [\"CLASS4\", \"SECURITY\"],\n    label: \"Class 4\",\n  },\n  class5: {\n    key: \"class5\",\n    groupBy: [\"CLASS5\", \"SECURITY\"],\n    label: \"Class 5\",\n  },\n  country: {\n    key: \"country\",\n    groupBy: [\"COUNTRY\", \"SECURITY\"],\n    label: \"Country\",\n  },\n  marketPlace: {\n    key: \"marketPlace\",\n    groupBy: [\"MARKETPLACE\", \"SECURITY\"],\n    label: \"Market place\",\n  },\n  currency: {\n    key: \"currency\",\n    groupBy: [\"CURRENCY\", \"SECURITY\"],\n    label: \"Currency\",\n  },\n  portfolio: {\n    key: \"portfolio\",\n    groupBy: [\"PORTFOLIO\", \"TYPE\", \"SECURITY\"],\n    label: \"Portfolio\",\n  },\n  portfolioAndSubPortfolio: {\n    key: \"portfolioAndSubPortfolio\",\n    groupBy: [\"PORTFOLIO\", \"PORTFOLIO_ALL\", \"SECURITY\"],\n    label: \"Portfolio and sub portfolio\",\n  },\n  portfolioAndGroup: {\n    key: \"portfolioAndGroup\",\n    groupBy: [\"PORTFOLIO\", \"GROUP\", \"SECTOR\"],\n    label: \"Portfolio and asset type\",\n  },\n  issuer: {\n    key: \"issuer\",\n    groupBy: [\"ISSUER\", \"SECURITY\"],\n    label: \"Issuer\",\n  },\n};\n\nconst userPrefsGroupCodes = [\n  {\n    name: \"Asset class\",\n    code: \"ASSET\",\n  },\n  {\n    name: \"Geographical\",\n    code: \"GEO\",\n  },\n  {\n    name: \"Industry\",\n    code: \"IND\",\n  },\n  {\n    name: \"Strategy\",\n    code: \"Strategy\",\n  },\n  {\n    name: \"Robo class\",\n    code: \"ROBO\",\n  },\n  {\n    name: \"Currency\",\n    code: \"CURRENCY\",\n  },\n  {\n    name: \"Country exposure\",\n    code: \"COUNTRY\",\n  },\n  {\n    name: \"AIF Geo\",\n    code: \"AIFGEO\",\n  },\n  {\n    name: \"AIF Asset\",\n    code: \"AIFASSET\",\n  },\n  {\n    name: \"AIF Asset Turnover\",\n    code: \"AIFASSETTURNOVER\",\n  },\n  {\n    name: \"AIF Strategies\",\n    code: \"AIFSTRATEGIES\",\n  },\n  {\n    name: \"Model\",\n    code: \"MOD\",\n  },\n  {\n    name: \"Test ST\",\n    code: \"TEST_ST\",\n  },\n  {\n    name: \"Jv strategy test\",\n    code: \"JV_TEST\",\n  },\n  {\n    name: \"INT Asset Structure\",\n    code: \"INT_AS\",\n  },\n];\n"],"names":["templateObject_1","templateObject_2","templateObject_3","__makeTemplateObject","cooked","raw","Object","defineProperty","value","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","error","MenuList","_a","header","options","onOptionSelected","_b","onBack","undefined","_c","headless","_d","enableFiltering","_e","useState","filterInput","setFilterInput","_jsxs","ContentView","style","overflowX","headerHidden","headerTitle","HeaderContainer","children","_jsx","marginTop","Button","icon","backIcon","spacing","outline","onClick","Text","variant","truncate","FilterInput","onChange","target","autoFocus","placeholder","paddingTop","paddingBottom","AnimatePresence","filter","option","label","toLowerCase","includes","map","Item","transition","duration","ease","initial","opacity","x","animate","exit","flexGrow","Icon","faChevronRight","key","color","theme","styled","motion","background","hover","TextField","sm","__spreadArray","to","from","pack","l","Array","slice","concat","MenuDrilldown","optionsTree","renderedLists","setRenderedLists","selectedOptions","setSelectedOptions","MenuDrilldownContainer","RenderedListsContainer","newSelectedOptions","GET_PROCESS_DEFINITIONS","gql","modalMode","selectedProcess","activeTask","processPayload","selectProcess","state","payload","setProcessPayload","setActiveTask","openProcessModal","closeProcessModal","ModuleID","ModuleState","createModuleState","name","initialState","reducers","createUseModuleStateHook","useModuleState","useModuleStateSelector","ModuleActions","actions","useMutation","mutation","client","useApolloClient","verifyDocumentType","DocumentType","called","loading","result","setResult","ref","useRef","mutationId","isMounted","current","execute","useCallback","executeOptions","baseOptions","ignoreResults","data","clientOptions","mergeOptions","mutate","then","response","errors","ApolloError","graphQLErrors","result_1","equal","onCompleted","catch","result_2","onError","reset","useEffect","COMPLETE_PROCESS_TASK","START_PROCESS","variables","keys","startProcess","formKey","addToast","id","title","description","console","message","persist","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","__generator","body","f","y","g","_","sent","trys","ops","verb","v","op","TypeError","pop","processInitialState","executorState","processStateReducer","action","type","newExecutorState","Error","eventNames","attachmentsObjectToList","attachments","values","useProcessExecutor","OnProcessFinished","dispatch","useDispatch","useReducer","processState","dispatchProcessStateAction","useInitializeForm","completeTask","completeProcessTask","useCompleteTask","handleSubmit","submissionData","completeFormResponse","error_1","detail","import","isArray","taskId","processInstanceId","finishCurrentTask","nextTask","processFinished","window","document","addEventListener","removeEventListener","formDefinition","initialData","useStartProcess","initForm","initFormData","JSON","parse","hookRunning","responseData","onNextTask","FormDisplayer","useModuleTranslation","_Fragment","Frame","src","srcDoc","stringify","Center","Preloader","useModal","ModalWrapper","openModal","closeModal","width","height","SummaryView","caption","heading","footerContent","onClose","WorkflowsList","category","onWorkflowSelected","process","_f","maxCount","processes","setProcesses","useQuery","notifyOnNetworkStatusChange","processDefinitions","processDefinition","useGetProcessDefinitions","ProcessModal","StartWorkflowButtonPopover","tooltip","ButtonPopover","faPlay","popoverPlacement","popoverContentCallback","closePopover","selectedOption","setSelectedOption","overflow","direction","groupingOptions","groupBy","hasSubOptions","groupingsWithSubOptions","tableHeader","groupCode","userPrefsGroupCodes","code","log","whiteSpace","zoom","at","replaceAll","groupAndSector","groupAndPortfolio","securityType","subType","security","class1","class2","class3","class4","class5","country","marketPlace","currency","portfolio","portfolioAndSubPortfolio","portfolioAndGroup","issuer"],"sourceRoot":""}