"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[8469],{88469:function(e,t,n){n.r(t),n.d(t,{default:function(){return be}});var o,r,a,i,s,c,l=n(11026),d=n(6380),u=n(74851),p=n(37878),f=n(56167),y=n(19278),v=n(36188),m=n(88573),h=n(25200),S=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=function(){return g=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g.apply(this,arguments)},b=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},x=function(e){var t=e.header,n=e.options,o=e.onOptionSelected,r=e.onBack,a=void 0===r?void 0:r,i=e.headless,s=void 0!==i&&i,c=e.enableFiltering,l=void 0!==c&&c,h=b((0,f.useState)(""),2),S=h[0],x=h[1];return(0,p.jsxs)(d.Cl,g({style:{overflowX:"hidden"},headerHidden:s||!t,headerTitle:!s&&t&&(0,p.jsxs)(O,{children:[a&&(0,p.jsx)("div",g({style:{marginTop:-4}},{children:(0,p.jsx)(y.zx,{icon:v.acZ,spacing:"sm",outline:!0,onClick:a})})),"string"===typeof t?(0,p.jsx)(y.xv,g({variant:"h5",truncate:!0},{children:t})):{header:t}]})},{children:[l&&(0,p.jsx)(E,{onChange:function(e){x(e.target.value)},value:S,autoFocus:!0,placeholder:"Filter"}),(0,p.jsx)("div",g({style:{paddingTop:8,paddingBottom:8}},{children:(0,p.jsx)(u.M_,{children:n.filter((function(e){return e.label.toLowerCase().includes(S.toLowerCase())})).map((function(e){return(0,p.jsxs)(I,g({transition:{duration:.15,ease:"easeOut"},initial:{opacity:0,x:24},animate:{opacity:1,x:0},exit:{opacity:0,x:24},onClick:function(){o(e),x("")}},{children:[(0,p.jsx)("div",g({style:{flexGrow:1}},{children:e.label})),e.options&&(0,p.jsx)(y.JO,{icon:m.faChevronRight})]}),e.key||e.label)}))})}))]}))},k=u.rS.color,T=u.rS.spacing,I=(0,u.zo)(u.ww.div)(o||(o=S(["\n  display: flex;\n  padding: 8px;\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"],["\n  display: flex;\n  padding: 8px;\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n"])),k.background.hover),E=(0,u.zo)(h.nv)(r||(r=S(["\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-left: ",";\n  padding-right: ",";\n"],["\n  padding-top: ",";\n  padding-bottom: ",";\n  padding-left: ",";\n  padding-right: ",";\n"])),T.sm,T.sm,T.sm,T.sm),O=u.zo.div(a||(a=S(["\n  display: flex;\n  gap: 8px;\n  align-items: flex-start;\n"],["\n  display: flex;\n  gap: 8px;\n  align-items: flex-start;\n"]))),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},R=function(){return R=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},R.apply(this,arguments)},P=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},A=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},j=function(e){var t=e.optionsTree,n=e.onOptionSelected,o=e.headless,r=void 0!==o&&o,a=e.enableFiltering,i=void 0!==a&&a,s=P((0,f.useState)([t]),2),c=s[0],l=s[1],d=P((0,f.useState)([]),2),y=d[0],v=d[1];return(0,p.jsx)(C,{children:(0,p.jsx)(u.M_,{children:c.map((function(e,o){var a=e.label,s=void 0===a?"":a,d=e.options;return(0,p.jsx)(D,R({transition:{duration:.2,ease:"easeOut"},initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:0}},{children:(0,p.jsx)(x,{header:s,options:d,headless:r,enableFiltering:i,onBack:c.length>1?function(){l(c.slice(0,-1)),v(y.slice(0,-1))}:void 0,onOptionSelected:function(e){var o=A(A([],P(y),!1),[e],!1);if(v(o),!e.options)return l([t]),v([]),n(o);l(A(A([],P(c),!1),[e],!1))}})}),o)}))})})},C=u.zo.div(i||(i=w(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  min-width: 80px;\n  min-height: 80px;\n"],["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  min-width: 80px;\n  min-height: 80px;\n"]))),D=(0,u.zo)(u.ww.div)(s||(s=w(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n"],["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n"]))),U=n(45407),B=n(68432),Y=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},F=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},L=(0,U.Ps)(c||(c=Y(["\n  query getProcessDefinitions($category: String!, $maxCount: Int) {\n    processDefinitions(maxCount: $maxCount, category: $category) {\n      processDefinition {\n        id\n        key\n        name\n        category\n        description\n      }\n      total\n    }\n  }\n"],["\n  query getProcessDefinitions($category: String!, $maxCount: Int) {\n    processDefinitions(maxCount: $maxCount, category: $category) {\n      processDefinition {\n        id\n        key\n        name\n        category\n        description\n      }\n      total\n    }\n  }\n"]))),M=(0,n(69921).sj)({modalMode:"closed",selectedProcess:void 0,activeTask:void 0,processPayload:void 0}),$=function(){M.modalMode="closed",M.selectedProcess=void 0};window.taskmanagerState=M;var N,G=n(61238),_=n(99017),J=n(51497),z=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},K=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},W=(0,_.Ps)(N||(N=z(["\n  mutation ($taskId: String, $data: Json) {\n    completeProcessTask(\n      taskId: $taskId\n      data: $data\n    ) {\n      formKey\n      formDefinition\n      taskId\n      processInstanceId\n      data\n    }\n  }\n"],["\n  mutation ($taskId: String, $data: Json) {\n    completeProcessTask(\n      taskId: $taskId\n      data: $data\n    ) {\n      formKey\n      formDefinition\n      taskId\n      processInstanceId\n      data\n    }\n  }\n"]))),H=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},q=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},V=(0,_.Ps)(Z||(Z=H(["\n  mutation startProcess($key: String, $data: Json) {\n    startProcess(key: $key, data: $data) {\n      assignee\n      candidateGroups\n      attachments\n      candidateUsers\n      category\n      claimTime\n      createTime\n      data\n      description\n      dueDate\n      formDefinition\n      formKey\n      id\n      name\n      owner\n      parentTaskId\n      priority\n      processDefinitionId\n      processInstanceId\n      taskDefinitionKey\n      taskId\n    }\n  }\n"],["\n  mutation startProcess($key: String, $data: Json) {\n    startProcess(key: $key, data: $data) {\n      assignee\n      candidateGroups\n      attachments\n      candidateUsers\n      category\n      claimTime\n      createTime\n      data\n      description\n      dueDate\n      formDefinition\n      formKey\n      id\n      name\n      owner\n      parentTaskId\n      priority\n      processDefinitionId\n      processInstanceId\n      taskDefinitionKey\n      taskId\n    }\n  }\n"])));var Z,Q=function(e,t){return{startProcess:q((0,J.D)(V,{variables:{key:e,data:t&&Object.keys(t).length?t:null},onCompleted:function(e){var t;(null===(t=e.startProcess)||void 0===t?void 0:t.formKey)||(0,B.fz)({id:"start-process-success",title:"Success",description:"Workflow started successfully",variant:"positive"})},onError:function(e){console.error(e),(0,B.fz)({id:"start-process-error",title:"Error",description:e.message,variant:"negative",persist:!0})}}),1)[0]}},X=function(){return X=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},X.apply(this,arguments)},ee=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((o=o.apply(e,t||[])).next())}))},te=function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},ne=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},oe={executorState:"LOADING"},re=function(e,t){var n;switch(t.type){case"UPDATE_DATA":var o=t.payload,r=null!==(n=o.executorState)&&void 0!==n?n:e.executorState;return"READY"===r||"SUBMITTING"===r||"SUBMIT_ERROR"===r?X(X({},e),o):{executorState:r};case"SET_DATA":return t.payload;case"RESET_SUBMIT_ERROR":return"READY"===e.executorState||"SUBMITTING"===e.executorState||"SUBMIT_ERROR"===e.executorState?X(X({},e),{executorState:"READY"}):e;default:throw new Error}},ae="formSubmitEvent",ie=function(e){return e?Object.values(e):[]},se=function(e){var t=ne((0,f.useReducer)(re,oe),2),n=t[0],o=t[1];ce(o);var r=function(){var e=K((0,J.D)(W,{onCompleted:function(e){var t;(null===(t=e.completeProcessTask)||void 0===t?void 0:t.formKey)||(0,B.fz)({id:"start-process-success",title:"Success",description:"Workflow started successfully",variant:"positive"})},onError:function(e){console.error(e),(0,B.fz)({id:"start-process-error",title:"Error",description:e.message,variant:"negative",persist:!0})}}),2),t=e[0],n=e[1],o=n.data;return{loading:n.loading,error:n.error,reset:n.reset,data:o,completeTask:t}}().completeTask,a=(0,f.useCallback)((function(t){return ee(void 0,void 0,void 0,(function(){var a,i,s,c,l,d,u;return te(this,(function(p){switch(p.label){case 0:if(a=t.detail,"READY"!==n.executorState||!a)return[2];o({type:"UPDATE_DATA",payload:{executorState:"SUBMITTING"}}),p.label=1;case 1:return p.trys.push([1,3,,4]),(null===(c=null===a||void 0===a?void 0:a.data)||void 0===c?void 0:c.import)&&!Array.isArray(null===(l=null===a||void 0===a?void 0:a.data)||void 0===l?void 0:l.import)&&(a.data.import=[null===(d=null===a||void 0===a?void 0:a.data)||void 0===d?void 0:d.import]),[4,r({variables:{data:a.data,taskId:n.taskId,processInstanceId:n.processInstanceId}})];case 2:return i=p.sent(),le(null===(u=i.data)||void 0===u?void 0:u.completeProcessTask,o,(function(e){return M.activeTask=e})).processFinished&&($(),e&&e()),[3,4];case 3:return s=p.sent(),console.error("handleSubmit error",s),o({type:"UPDATE_DATA",payload:{executorState:"SUBMIT_ERROR"}}),[3,4];case 4:return[2]}}))}))}),[r,o,n,e]);return(0,f.useEffect)((function(){return window.document.addEventListener(ae,a,!1),function(){return window.document.removeEventListener(ae,a,!1)}}),[a]),"READY"===n.executorState||"SUBMITTING"===n.executorState?{executorState:n.executorState,formDefinition:n.formDefinition,initialData:n.initialData,attachments:n.attachments}:{executorState:n.executorState}},ce=function(e){var t,n=Q(null===(t=M.selectedProcess)||void 0===t?void 0:t.key,M.processPayload).startProcess,o=(0,f.useCallback)((function(t){var n;t&&(!t||t.processInstanceId)&&t.formDefinition?e({type:"UPDATE_DATA",payload:{formDefinition:JSON.parse(t.formDefinition),initialData:t.data||{},attachments:ie(null===(n=t.data)||void 0===n?void 0:n.attachments),taskId:t.taskId,processInstanceId:t.processInstanceId,executorState:"READY"}}):e({type:"SET_DATA",payload:{executorState:"PROCESS_ERROR"}})}),[e]);(0,f.useEffect)((function(){if(M.selectedProcess){var e=!0;return ee(void 0,void 0,void 0,(function(){var t,r;return te(this,(function(a){switch(a.label){case 0:return[4,n()];case 1:return t=null===(r=a.sent().data)||void 0===r?void 0:r.startProcess,e&&(null===t||void 0===t?void 0:t.formKey)&&(M.activeTask=t,M.modalMode="open",o(t)),[2]}}))})),function(){e=!1}}}),[n,o,M.selectedProcess])},le=function(e,t,n){var o;(void 0===n&&(n=function(e){}),null===e||void 0===e?void 0:e.processInstanceId)&&t({type:"UPDATE_DATA",payload:{formDefinition:e.formDefinition&&JSON.parse(e.formDefinition)||void 0,initialData:e.data||{},attachments:ie(null===(o=e.data)||void 0===o?void 0:o.attachments),taskId:e.taskId,processInstanceId:e.processInstanceId,executorState:"READY"}});return{processFinished:!(null===e||void 0===e?void 0:e.formDefinition)}},de=function(e){var t,n,o,r,a,i,s=e.processState,c=(0,G.L$)();return(null===(t=s.initialData)||void 0===t?void 0:t.import)&&Array.isArray(null===(n=s.initialData)||void 0===n?void 0:n.import)&&(s.initialData.import=null===(o=s.initialData)||void 0===o?void 0:o.import[0]),(0,f.useEffect)((function(){["SUBMIT_ERROR","PROCESS_ERROR"].includes(s.executorState)&&$()}),[s.executorState]),(0,p.jsxs)(p.Fragment,{children:["READY"===s.executorState&&s.formDefinition&&(0,p.jsx)(d.RQ,{src:"/",srcDoc:(r=JSON.stringify(s.formDefinition),a=s.initialData,i=s.attachments,"\n<!DOCTYPE html>\n<html lang=\"en\">\n  <div id=\"displayer\"> Loading... </div>\n  <div id=\"attachments\"></div>\n  <head>\n    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'>\n    <link rel='stylesheet' href='https://cdn.form.io/formiojs/formio.full.min.css'>\n    <script src='https://cdn.form.io/formiojs/formio.full.min.js'><\/script>\n  </head>  \n  <script>\n    Formio.createForm(document.getElementById('displayer'), ".concat(r,", {})\n      .then(function(form) {    \n        form.submission = {\n          data: ").concat(JSON.stringify(a,null,2),"\n        };\n        form.on('submit', (submission) => {        \n          const event = new CustomEvent('").concat(ae,'\', {detail: submission})\n          window.parent.document.dispatchEvent(event)\n        });\n      });\n    const attachmentsContainer = document.getElementById("attachments")\n    const attachmentsList = ').concat(JSON.stringify(i,null,2),'\n    attachmentsList.forEach(function(attachment){\n      const attachmentLink = document.createElement("a")\n      attachmentLink.setAttribute("href", attachment.url)\n      attachmentLink.setAttribute("download", attachment.name)\n      attachmentLink.append(attachment.name)\n      attachmentsContainer.append(attachmentLink);      \n    })\n  <\/script>\n</html>\n'))}),"READY"===s.executorState&&!s.formDefinition&&(0,p.jsx)(u.M5,{children:c("formDisplayer.formNotFound")}),"LOADING"===s.executorState&&(0,p.jsx)(y.p9,{}),"SUBMITTING"===s.executorState&&(0,p.jsx)(y.p9,{}),"SUBMIT_ERROR"===s.executorState&&(0,p.jsx)(u.M5,{children:(0,p.jsx)(y.xv,{value:c("formDisplayer.submitError"),variant:"h2"})}),"PROCESS_ERROR"===s.executorState&&(0,p.jsx)(u.M5,{children:(0,p.jsx)(y.xv,{value:c("formDisplayer.processError"),variant:"h2"})})]})},ue=function(){return ue=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ue.apply(this,arguments)},pe=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},fe=function(){var e,t,n=pe((0,y.dd)(!1),3),o=n[0],r=n[1],a=n[2],i=se();return(0,f.useEffect)((function(){return"closed"===M.modalMode?a():r(),function(){return a()}}),[r,a,M.modalMode]),(0,p.jsx)(o,ue({style:{width:"98vw",height:"98vh"}},{children:(0,p.jsx)(d.J7,ue({caption:(null===(e=M.selectedProcess)||void 0===e?void 0:e.name)||"",heading:(null===(t=M.activeTask)||void 0===t?void 0:t.name)||"",footerContent:void 0,onClose:function(){(0,B.fz)({id:"process-task-closed",title:"You can continue your task later from Workflows and tasks.",variant:"note"}),$()}},{children:M.selectedProcess&&i&&(0,p.jsx)(de,{formKey:M.selectedProcess.key,processState:i})}))}))},ye=n(11903),ve=function(){return ve=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ve.apply(this,arguments)},me=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},he=function(e){var t=e.category,n=void 0===t?"":t,o=e.payload,r=void 0===o?{}:o,a=e.onWorkflowSelected,i=void 0===a?function(e){}:a,s=e.enableFiltering,c=void 0!==s&&s,l=function(e){var t=e.category,n=void 0===t?"":t,o=e.maxCount,r=void 0===o?1e4:o,a=F((0,f.useState)([]),2),i=a[0],s=a[1],c=(0,U.aM)(L,{notifyOnNetworkStatusChange:!0,variables:{category:n,maxCount:r},onError:function(e){(0,B.fz)({id:"process-definitions-error",title:"Error, could not get workflows definitions",description:e.message,variant:"negative",persist:!0})},onCompleted:function(e){try{s(e.processDefinitions.processDefinition)}catch(t){console.error(t),(0,B.fz)({id:"failed-parsing-process-definitions",title:"Error, failed to parse workflows definitions",variant:"negative",persist:!0})}}}),l=c.data,d=c.loading;return{processes:i,data:l,error:c.error,loading:d}}({category:n}),d=l.processes,u=l.loading;return(0,ye.RK)(M),(0,p.jsxs)("div",ve({style:{width:"100%"}},{children:[(0,p.jsx)(fe,{}),u||!d.length?(0,p.jsx)(y.p9,{}):(0,p.jsx)("div",ve({style:{width:320,height:340}},{children:(0,p.jsx)(j,{enableFiltering:c,optionsTree:{label:"",options:d.map((function(e){return{key:e.key,label:e.name,payload:{processDefinition:e}}}))},onOptionSelected:function(e){var t=me(e,1)[0].payload.processDefinition;i(t),M.selectedProcess=ve({},t),M.processPayload=ve({},r)}})}))]}))},Se=function(){return Se=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Se.apply(this,arguments)},ge=function(e){var t=e.category,n=void 0===t?"":t,o=e.payload,r=void 0===o?{}:o,a=e.tooltip,i=void 0===a?"Start workflow":a,s=e.enableFiltering,c=void 0!==s&&s,l=e.onWorkflowSelected,d=void 0===l?function(e){}:l;return(0,p.jsx)("div",Se({style:{width:"100%"}},{children:(0,p.jsx)(y.j0,{icon:m.faPlay,spacing:"sm",outline:!0,tooltip:i,popoverPlacement:"bottom-end",popoverContentCallback:function(e){var t=e.closePopover;return(0,p.jsx)(he,{category:n,payload:r,onWorkflowSelected:function(e){t(),d(e)},enableFiltering:c})}})}))},be=function(){var e,t,n=(0,f.useState)([]),o=(0,l.Z)(n,2),r=o[0],a=o[1];return(0,p.jsx)(d.B4,{heading:"Menu Drilldown",overflow:"scroll",children:(0,p.jsxs)(u.xu,{direction:"column",children:[(0,p.jsxs)("div",{style:{width:300,height:340},children:[(0,p.jsx)(ge,{}),(0,p.jsx)(j,{enableFiltering:!0,optionsTree:{label:"Groupings",options:Object.values(ke).map((function(e){var t=e.groupBy,n=e.label,o=e.key,r=xe.includes(o);return{label:n,payload:{tableHeader:n,groupCode:"",groupBy:t},options:r&&(null===Te||void 0===Te?void 0:Te.map((function(e){var o=e.code,r=e.name;return{label:"".concat(r," (").concat(o,")"),payload:{tableHeader:"".concat(n," (").concat(r,")"),groupBy:t,groupCode:o}}})))}}))},onOptionSelected:function(e){a(e),console.log(e)}})]}),(0,p.jsxs)("div",{style:{whiteSpace:"pre"},children:[(0,p.jsxs)("div",{style:{zoom:1.4},children:[(0,p.jsx)("strong",{children:"Selected option"})," -"," ",null===(e=JSON.stringify(r.at(-1),null,4))||void 0===e?void 0:e.replaceAll('"',"")]}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Returned array of selected options"})," -"," ",null===(t=JSON.stringify(r,null,4))||void 0===t?void 0:t.replaceAll('"',"")]})]})})},xe=["groupAndSector","groupAndPortfolio","portfolioAndGroup"],ke={groupAndSector:{key:"groupAndSector",groupBy:["GROUP","SECTOR","SECURITY"],label:"Asset type and class"},groupAndPortfolio:{key:"groupAndPortfolio",groupBy:["GROUP","PORTFOLIO","SECTOR"],label:"Asset type and portfolio"},securityType:{key:"securityType",groupBy:["TYPE","SECURITY"],label:"Security type"},subType:{key:"subType",groupBy:["TYPE","SUBTYPE","SECURITY"],label:"Security type and subtype"},security:{key:"security",groupBy:["SECURITY"],label:"Security"},class1:{key:"class1",groupBy:["CLASS1","SECURITY"],label:"Class 1"},class2:{key:"class2",groupBy:["CLASS2","SECURITY"],label:"Class 2"},class3:{key:"class3",groupBy:["CLASS3","SECURITY"],label:"Class 3"},class4:{key:"class4",groupBy:["CLASS4","SECURITY"],label:"Class 4"},class5:{key:"class5",groupBy:["CLASS5","SECURITY"],label:"Class 5"},country:{key:"country",groupBy:["COUNTRY","SECURITY"],label:"Country"},marketPlace:{key:"marketPlace",groupBy:["MARKETPLACE","SECURITY"],label:"Market place"},currency:{key:"currency",groupBy:["CURRENCY","SECURITY"],label:"Currency"},portfolio:{key:"portfolio",groupBy:["PORTFOLIO","TYPE","SECURITY"],label:"Portfolio"},portfolioAndSubPortfolio:{key:"portfolioAndSubPortfolio",groupBy:["PORTFOLIO","PORTFOLIO_ALL","SECURITY"],label:"Portfolio and sub portfolio"},portfolioAndGroup:{key:"portfolioAndGroup",groupBy:["PORTFOLIO","GROUP","SECTOR"],label:"Portfolio and asset type"},issuer:{key:"issuer",groupBy:["ISSUER","SECURITY"],label:"Issuer"}},Te=[{name:"Asset class",code:"ASSET"},{name:"Geographical",code:"GEO"},{name:"Industry",code:"IND"},{name:"Strategy",code:"Strategy"},{name:"Robo class",code:"ROBO"},{name:"Currency",code:"CURRENCY"},{name:"Country exposure",code:"COUNTRY"},{name:"AIF Geo",code:"AIFGEO"},{name:"AIF Asset",code:"AIFASSET"},{name:"AIF Asset Turnover",code:"AIFASSETTURNOVER"},{name:"AIF Strategies",code:"AIFSTRATEGIES"},{name:"Model",code:"MOD"},{name:"Test ST",code:"TEST_ST"},{name:"Jv strategy test",code:"JV_TEST"},{name:"INT Asset Structure",code:"INT_AS"}]}}]);
//# sourceMappingURL=8469.0f80a8f2.chunk.js.map